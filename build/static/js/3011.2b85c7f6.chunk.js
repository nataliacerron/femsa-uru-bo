"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[3011],{73011:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var r=t(1413),i=t(29439),a=t(52452),s=t(41930),o=t(93938),l=t(54696),c=t(96763),u=t(35477),d=t(95209),m=t(5019),f=t(50390),x=t(4743),h=t(10361),p=t(1314),g=t(18369),v=t(33383),Z=t(49360),b=t(94001),j=t(12391),_=t(4066),y=t(74165),k=t(15861),N=t(88669),w=t(82360),S=t(93693),C=t(31588),P=t(34758),A=t(62559);var z=function(e){var n=(0,g.Gc)(),t=n.formState,r=n.watch,a=n.getValues,o=t.isValid,l=t.dirtyFields,c=(0,N.Z)(),v=r("header"),Z=r("name"),b=r("excel_file"),_=(r("bingoFile"),(0,f.useState)({msg:"",alert:""})),z=(0,i.Z)(_,2),E=z[0],B=z[1],I=(0,x.v9)(P.dy),M=(0,h.UO)().bingoId,H=(0,x.I0)(),V=(0,h.s0)(),O=(0,C.cF)(),Y=function(){var e=(0,k.Z)((0,y.Z)().mark((function e(){var n,t,r,i,s,o,l,c;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a(),console.log("data a guardar: ",n),t=new Date,r=t.getMonth()+1,i=t.getFullYear().toString().substring(2),s=[i,r].join(""),n.year_month=s,console.log(n,"get values form"),""!==n.created_at&&null!==n.header&&null!==n.line_1&&null!==n.line_2&&null!==n.header_line_1&&null!==n.header_line_2&&null!==n.mission_1&&null!==n.mission_2&&null!==n.mission_3&&null!==n.mission_4&&null!==n.mission_5&&null!==n.mission_6&&null!==n.mission_7&&null!==n.mission_8&&null!==n.mission_9&&null!==n.mission_10&&""!==n.name&&""!==n.year_month){e.next=12;break}B({msg:"Existen campos vac\xedos",alert:!1}),e.next=33;break;case 12:if("new"!==M){e.next=31;break}return e.next=15,H((0,j.ek)(n));case 15:if(0!==e.sent.length){e.next=20;break}B({msg:"Hubo un problema al crear el bingo",alert:!1}),e.next=29;break;case 20:return o={user_id:I.data.displayName,file_name:Z},l=(0,C.iH)(O,"files/".concat(b.name)),e.next=24,(0,C.KV)(l,b);case 24:return e.next=26,(0,C.Jt)(l);case 26:return o.file_url=e.sent,e.next=29,H((0,j.N2)(o)).then((function(){V("/bingos")}));case 29:e.next=33;break;case 31:c=Object.fromEntries(Object.entries(n).filter((function(e){return"updated_at"!==e[0]}))),(0,j.Jz)(c).then((function(){return B(!0)}));case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(o,l,"dirty"),(0,f.useEffect)((function(){var e=(0,C.iH)(O,"files/bingos");(0,C.aF)(e).then((function(e){console.log(e,"res"),e.prefixes.forEach((function(e){console.log(e,"folderRef")})),e.items.forEach((function(e){console.log(e,"itemRef")}))})).catch((function(e){}))}),[]),(0,A.jsxs)("div",{className:"flex flex-col flex-1 w-full ",children:[(0,A.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,A.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,A.jsx)(d.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,A.jsxs)(u.Z,{className:"flex items-center sm:mb-12",component:p.rU,role:"button",to:"/bingos",color:"inherit",children:[(0,A.jsx)(w.Z,{size:20,children:"ltr"===c.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,A.jsx)("span",{className:"flex mx-4 font-medium",children:"Bingos"})]})}),(0,A.jsxs)("div",{className:"flex items-center max-w-full",children:[(0,A.jsx)("div",{className:"flex items-center",children:(0,A.jsx)(d.E.div,{className:"hidden sm:flex",initial:{scale:0},animate:{scale:1,transition:{delay:.3}},children:""!==v?(0,A.jsx)("img",{width:150,src:v,alt:Z}):null})}),(0,A.jsxs)(d.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:Z?"Actualizar Bingo":"Nuevo Bingo"}),(0,A.jsx)(u.Z,{variant:"caption",className:"font-medium",children:"Detalle del Bingo"})]})]})]}),(0,A.jsxs)(d.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,A.jsx)(m.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){var e=a();H((0,j.Dh)(e.id)).then((function(){V("/bingos")}))},startIcon:(0,A.jsx)(w.Z,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Eliminar"}),(0,A.jsx)(m.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",disabled:s.Z.isEmpty(l),onClick:Y,children:"Guardar"})]})]}),E.alert&&(0,A.jsx)(S.Z,{severity:"success",children:"Los datos se guardaron correctamente"}),!1===E.alert?(0,A.jsx)(S.Z,{severity:"error",children:E.msg}):null]})},E=t(93433),B=t(49056),I=t(12066),M=t(25594),H=t(60606),V=t.n(H),O=t(18851),Y=t(50162),D=t(74268),F=t(70902),T=t(31680),q=t(43965),Q=t(36554),R=t(58217),L=t(10075),W=t(26759);var U=function(e){var n=(0,g.Gc)(),t=(0,f.useState)(!0),a=(0,i.Z)(t,2),s=a[0],o=a[1],l=n.control,c=n.formState,d=n.setValue,h=c.errors,p=(0,f.useState)(!1),v=(0,i.Z)(p,2),Z=v[0],b=v[1],j=l._formValues,_=(j.id,j.expire_at),N=j.header,w=j.excel_file,S=j.created_at,C=j.line_1,P=j.line_2,z=j.mission_1,H=j.mission_2,U=j.mission_3,G=j.mission_4,K=j.mission_5,J=j.mission_6,X=j.mission_7,$=j.mission_8,ee=j.mission_9,ne=j.mission_10,te=j.name,re=j.year_month,ie=(j.type,j.updated_at,j.header_line_1),ae=j.header_line_2,se=(0,f.useState)(V()(_).format("YYYY-MM-DD")),oe=(0,i.Z)(se,2),le=oe[0],ce=oe[1],ue=(0,f.useState)([]),de=(0,i.Z)(ue,2),me=(de[0],de[1],(0,f.useState)([])),fe=(0,i.Z)(me,2),xe=fe[0],he=fe[1],pe=(0,f.useState)(""),ge=(0,i.Z)(pe,2),ve=(ge[0],ge[1],(0,f.useState)(!1)),Ze=(0,i.Z)(ve,2),be=Ze[0],je=Ze[1],_e=(0,f.useState)(""),ye=(0,i.Z)(_e,2),ke=ye[0],Ne=ye[1],we=e.params,Se=(0,f.useState)([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]),Ce=(0,i.Z)(Se,2),Pe=(Ce[0],Ce[1],(0,f.useState)("")),Ae=(0,i.Z)(Pe,2),ze=Ae[0],Ee=Ae[1],Be=(0,f.useState)(null),Ie=(0,i.Z)(Be,2),Me=Ie[0],He=Ie[1],Ve=(0,f.useState)([0,0,0,0,0,0,0,0,0,0]),Oe=(0,i.Z)(Ve,2),Ye=Oe[0],De=Oe[1],Fe=(0,f.useState)(),Te=(0,i.Z)(Fe,2),qe=Te[0],Qe=Te[1],Re=(0,f.useState)(),Le=(0,i.Z)(Re,2),We=Le[0],Ue=Le[1],Ge=(0,f.useState)(null),Ke=(0,i.Z)(Ge,2),Je=Ke[0],Xe=Ke[1],$e=(0,f.useState)([]),en=(0,i.Z)($e,2),nn=en[0],tn=en[1],rn=(0,x.I0)(),an=(0,f.useState)([]),sn=(0,i.Z)(an,2),on=sn[0],ln=sn[1],cn=(0,f.useState)([]),un=(0,i.Z)(cn,2),dn=un[0],mn=un[1],fn=(0,f.useState)([]),xn=(0,i.Z)(fn,2),hn=xn[0],pn=xn[1],gn=(0,f.useState)(hn),vn=(0,i.Z)(gn,2),Zn=vn[0],bn=vn[1],jn={PaperProps:{style:{maxHeight:224,width:250}}},_n=[z,H,U,G,K,J,X,$,ee,ne];(0,f.useEffect)((function(){_n&&o(!1)}),[]),(0,f.useEffect)((function(){rn((0,L.vp)()).then((function(e){mn(e.payload)})),rn((0,L.Xp)()).then((function(e){pn(e.payload)})),rn((0,L.ng)()).then((function(e){Qe(e.payload.channels),Ue(e.payload.gec)}))}),[rn]);var yn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,minHeight:500,bgcolor:"white",boxShadow:3,p:5},kn=function(e){var n=e.target.value,t=V()(n).format("YYYY-MM-DD");ce(t)};(0,f.useEffect)((function(){b("take_photo"===(null===K||void 0===K?void 0:K.cmd))}),[K]);var Nn=function(){var e=(0,k.Z)((0,y.Z)().mark((function e(n){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ne(n),je(!0),e.next=4,he([]);case 4:return e.next=6,(0,W.QO)("images/logos_sin_fondo",he);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return be?(0,A.jsxs)(M.ZP,{container:!0,padding:5,rowSpacing:2,columnSpacing:{xs:1,sm:1,md:3},children:[(0,A.jsx)(M.ZP,{item:!0,xs:12,children:(0,A.jsxs)(u.Z,{className:"text-16 sm:text-20 truncate font-bold",children:["Actualizar imagen de: ",ke.name]})}),xe.map((function(e,n){return(0,A.jsx)(M.ZP,{item:!0,xs:6,md:2,textAlign:"center",children:(0,A.jsx)(g.Qr,{name:ke.propertyName,control:l,render:function(n){var t=n.field;return(0,A.jsx)("img",{className:"rounded",src:e,onClick:function(n){var r;["header","header_line_1","header_line_2","line_1","line_2"].includes(ke.propertyName)?t.onChange(e):t.onChange({cmd:(null===(r=t.value)||void 0===r?void 0:r.cmd)||"none",img:e}),je(!1)},alt:"el"})}})},n)}))]}):(0,A.jsx)(M.ZP,{container:!0,padding:5,rowSpacing:2,columnSpacing:{xs:1,sm:1,md:3},children:s?(0,A.jsx)(u.Z,{children:" loading... "}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(M.ZP,{item:!0,xs:12,md:3,children:"update"===we?(0,A.jsxs)("div",{children:[(0,A.jsxs)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:[te," (",re,")"]}),(0,A.jsxs)(u.Z,{className:"text-16 sm:text-20 truncate font-normal",children:["Creado: ",V()(S).format("DD/MM/YYYY")]})]}):(0,A.jsxs)("div",{children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Nombre"}),(0,A.jsx)(g.Qr,{name:"name",control:l,render:function(e){var n,t=e.field;return(0,A.jsx)(I.Z,(0,r.Z)((0,r.Z)({},t),{},{error:!!h.name,required:!0,helperText:null===h||void 0===h||null===(n=h.name)||void 0===n?void 0:n.message,autoFocus:!0,id:"name",variant:"outlined",fullWidth:!0}))}})]})}),(0,A.jsxs)(M.ZP,{item:!0,xs:6,md:2,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Tomar foto"}),(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-normal",children:"Reemplaza Misi\xf3n 5"})]}),(0,A.jsxs)(M.ZP,{item:!0,xs:4,md:1,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Habilitar"}),(0,A.jsx)(g.Qr,{name:"mission_5",control:l,render:function(e){var n=e.field;return(0,A.jsx)(B.Z,{onChange:function(e){b(e.target.checked),n.onChange({img:n.value.img,cmd:e.target.checked?"take_photo":"none"})},checked:Z})}})]}),(0,A.jsxs)(M.ZP,{item:!0,xs:8,md:2,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Fecha de expiraci\xf3n"}),(0,A.jsx)(g.Qr,{name:"expire_at",control:l,render:function(e){var n,t=e.field;return(0,A.jsx)(I.Z,(0,r.Z)((0,r.Z)({},t),{},{type:"date",value:le,className:"mt-8 mb-16",error:!!h.expire_at,required:!0,onChange:kn,helperText:null===h||void 0===h||null===(n=h.expire_at)||void 0===n?void 0:n.message,id:"expire_at",variant:"outlined",fullWidth:!0}))}})]}),(0,A.jsxs)(M.ZP,{item:!0,xs:8,md:2,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Canal"}),(0,A.jsx)(g.Qr,{name:"channel",control:l,render:function(e){var n=e.field;return(0,A.jsxs)(q.Z,(0,r.Z)((0,r.Z)({},n),{},{id:"channel",value:n.value||"0",label:"Canal",variant:"outlined",fullWidth:!0,children:[(0,A.jsx)(T.Z,{value:"0",children:" Seleccione un Canal"}),null===qe||void 0===qe?void 0:qe.map((function(e,n){return(0,A.jsxs)(T.Z,{value:e.id,children:[" ",e.id]},n)}))]}))}})]}),(0,A.jsxs)(M.ZP,{item:!0,xs:8,md:2,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"GEC"}),(0,A.jsx)(g.Qr,{name:"gec",control:l,render:function(e){var n=e.field;return(0,A.jsxs)(q.Z,(0,r.Z)((0,r.Z)({},n),{},{id:"gec",value:n.value||"0",label:"GEC",variant:"outlined",fullWidth:!0,children:[(0,A.jsx)(T.Z,{value:"0",children:" Seleccione un GEC"}),null===We||void 0===We?void 0:We.map((function(e,n){return(0,A.jsxs)(T.Z,{value:e.id,children:[" ",e.id]},n)}))]}))}})]}),(0,A.jsxs)(M.ZP,{item:!0,xs:12,md:12,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Subir archivo excel"}),(0,A.jsx)(g.Qr,{name:"excel_file",control:l,render:function(e){var n=e.field,t=n.onChange;n.value;return(0,A.jsxs)("div",{className:"mt-8 mb-16 flex flex-row  items-center",children:[(0,A.jsxs)(m.Z,{variant:"contained",component:"label",color:"primary",children:["Cargar",(0,A.jsx)("input",{accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"hidden",id:"button-avatar",type:"file",onChange:function(e){var n=e.target.files[0];n&&t(n)}})]}),(0,A.jsx)(u.Z,{className:"text-14 sm:text-18 ml-10",children:(null===w||void 0===w?void 0:w.name)||""})]})}})]}),(0,A.jsx)("br",{}),(0,A.jsxs)(M.ZP,{item:!0,xs:12,md:6,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Encabezado Bingo"}),(0,A.jsx)("img",{width:"60%",className:"rounded",src:N||"",alt:"item"}),(0,A.jsx)(m.Z,{className:"hoverEdit",onClick:function(){return Nn({propertyName:"header"})},children:"Cargar imagen"})]}),(0,A.jsxs)(M.ZP,{item:!0,xs:6,md:3,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Encabezado Linea 1"}),(0,A.jsx)("img",{width:"60%",className:"rounded",src:ie||"",alt:"item"}),(0,A.jsx)(m.Z,{className:"hoverEdit",onClick:function(){return Nn({propertyName:"header_line_1"})},children:"Cargar imagen"})]}),(0,A.jsxs)(M.ZP,{item:!0,xs:6,md:3,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Encabezado Linea 2"}),(0,A.jsx)("img",{width:"60%",className:"rounded",src:ae||"",alt:"item"}),(0,A.jsx)(m.Z,{className:"hoverEdit",onClick:function(){return Nn({propertyName:"header_line_2"})},children:"Cargar imagen"})]}),[z,H,U,G,K,J,X,$,ee,ne].map((function(e,n){var t={name:"Misi\xf3n "+(n+1),propertyName:"mission_"+(n+1),item:e},i=dn.find((function(e){var n;return e.id===(null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.brand_id)}));return(0,A.jsxs)(M.ZP,{item:!0,xs:6,md:2.4,textAlign:"center",children:[(0,A.jsxs)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:["Misi\xf3n ",n+1]}),(0,A.jsx)("div",{className:"imgH",children:"take_photo"!=(null===e||void 0===e?void 0:e.cmd)?(0,A.jsx)("div",{children:i&&(0,A.jsx)("div",{style:{backgroundColor:"#"+i.color},children:(0,A.jsx)("img",{width:"100%",className:"rounded",src:i.logo,alt:"item"})})}):"take_photo"===(null===e||void 0===e?void 0:e.cmd)&&"SACAR FOTO"}),(0,A.jsx)(m.Z,{className:"hoverEdit",onClick:function(){return function(e,n){console.log("aveeer",n);var t=[],r=[];null!=n.item&&(n.item.target.map((function(e){t.push(e.sku),r.push(e.qty)})),Xe(n.item.brand_id),bn(hn.filter((function(e){return e.brand_id===n.item.brand_id}))),ln(t),tn(r)),He(e)}(n,t)},children:"Cargar Mision"}),(0,A.jsx)(Y.Z,{open:Me===n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",className:"modal",BackdropProps:{style:{backgroundColor:"transparent"}},children:(0,A.jsxs)(O.Z,{sx:yn,children:[(0,A.jsx)(u.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:t.name}),(0,A.jsx)(g.Qr,{name:"mission_".concat(n+1,".label"),control:l,render:function(e){var i,a,s=e.field;return(0,A.jsx)(I.Z,(0,r.Z)((0,r.Z)({},s),{},{className:"mt-8 mb-16",error:!!h.label,value:(null===(i=t.item)||void 0===i?void 0:i.label)||"",onChange:function(e){Ee(e.target.value),s.onChange(e)},required:!0,helperText:null===h||void 0===h||null===(a=h.label)||void 0===a?void 0:a.message,id:"mission_".concat(n+1,".label"),label:"Label",variant:"outlined",fullWidth:!0}))}}),(0,A.jsx)(g.Qr,{name:"mission_".concat(n+1,".brand_id"),control:l,render:function(e){var t=e.field;return(0,A.jsxs)("div",{children:[(0,A.jsx)(Q.Z,{id:"marcas-select",sx:{fontSize:12},children:"Marcas"}),(0,A.jsxs)(q.Z,(0,r.Z)((0,r.Z)({},t),{},{labelId:"marcas-select",id:"mission_".concat(n+1,".brand_id"),value:t.value||"0",label:"Marcas",fullWidth:!0,onChange:function(e){var r=e.target.value;t.onChange(r),function(e,n){var t=Ye,r=dn.filter((function(n){return n.id===e}));console.log(r),t[n]={id:r[0].id,logo:r[0].logo,color:r[0].color},Xe(e),bn(hn.filter((function(n){return n.brand_id===e}))),ln([]),tn([]),De(t)}(r,n)},children:[(0,A.jsx)(T.Z,{value:"0",children:" Seleccione una Marca"}),dn.map((function(e,t){return(0,A.jsxs)(T.Z,{value:e.id,style:{backgroundColor:"#"+e.color},children:[" ",e.logo?(0,A.jsx)("img",{className:"imgSelect",src:e.logo}):e.brand]},n+"-"+t)}))]}))]})}}),null!=Je&&(0,A.jsx)(g.Qr,{name:"mission_".concat(n+1,".target.sku"),control:l,render:function(e){e.field;return(0,A.jsxs)("div",{className:"skuObj",children:[(0,A.jsx)(Q.Z,{id:"select-sku-".concat(n),sx:{fontSize:12},children:"SKU"}),(0,A.jsx)(q.Z,{labelId:"select-sku-".concat(n),id:"mission_".concat(n+1,".target.sku"),multiple:!0,value:on||"0",onChange:function(e){return function(e,n){var t=nn;t.push("");var r=e.target.value;console.log("testttt",r),ln("string"===typeof r?r.split(","):r),tn(t)}(e)},input:(0,A.jsx)(R.Z,{label:"Tag"}),renderValue:function(e){return e.join(", ")},MenuProps:jn,fullWidth:!0,children:Zn.map((function(e){return(0,A.jsxs)(T.Z,{value:e.sku,children:[(0,A.jsx)(D.Z,{checked:on.indexOf(e.sku)>-1}),(0,A.jsx)(F.Z,{primary:e.sku})]},e.sku)}))})]})}}),(0,A.jsx)("hr",{style:{color:"black",backgroundColor:"#605f5f82",height:2,marginBottom:15}}),on.length>0?(0,A.jsx)("div",{className:"skuList",children:on.map((function(e,n){return(0,A.jsxs)(M.ZP,{container:!0,direction:"row",spacing:1,children:[(0,A.jsx)(M.ZP,{item:!0,xs:2,md:6,children:(0,A.jsx)(I.Z,{id:"modal-modal-title",label:"SKU",value:e})}),(0,A.jsx)(M.ZP,{item:!0,xs:2,md:6,children:(0,A.jsx)(g.Qr,{name:"qty-".concat(e,"-").concat(n),control:l,render:function(t){var i,a=t.field;return(0,A.jsx)(I.Z,(0,r.Z)((0,r.Z)({},a),{},{className:"mt-8 mb-16",type:"number",error:!!h.qty,required:!0,value:nn[n]||"",onChange:function(e){tn((function(t){var r=(0,E.Z)(t);return r[n]=e.target.value,r})),a.onChange(e)},helperText:null===h||void 0===h||null===(i=h.qty)||void 0===i?void 0:i.message,id:"qty-".concat(e,"-").concat(n),label:"Objetivo",size:"small",variant:"outlined",fullWidth:!0}))}})})]},n)}))}):(0,A.jsx)(u.Z,{variant:"h6",component:"h2",children:"No hay SKU seleccionados"}),(0,A.jsx)(O.Z,{className:"buttonBox",p:2,children:(0,A.jsx)(m.Z,{className:"hoverEdit",onClick:function(){return function(e,n){console.log("mmmm",n),console.log("selectedOptions",on),console.log("selectedOptions",nn);var t=on.map((function(e,n){return{sku:e,qty:nn[n]}}));n.item.target=t,n.item.brand_id=Je,n.item.label=ze,d("mission_".concat(e+1),(0,r.Z)((0,r.Z)({},l._formValues["mission_".concat(e+1)]),{},{brand_id:Je,label:ze,target:t}),{shouldDirty:!0,shouldValidate:!0}),He(null),ln([]),tn([]),Ee(""),Xe(null)}(n,t)},children:"Guardar"})})]})},n)]},n)})),(0,A.jsxs)(M.ZP,{item:!0,xs:12,md:6,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Premios Linea 1"}),(0,A.jsx)("img",{width:"60%",className:"rounded",src:C||"",alt:"item"}),(0,A.jsx)(m.Z,{className:"hoverEdit",onClick:function(){return Nn({propertyName:"line_1"})},children:"Cargar imagen"})]}),(0,A.jsxs)(M.ZP,{item:!0,xs:12,md:6,children:[(0,A.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Premios Linea 2"}),(0,A.jsx)("img",{width:"60%",className:"rounded",src:P||"",alt:"item"}),(0,A.jsx)(m.Z,{className:"hoverEdit",onClick:function(){return Nn({propertyName:"line_2"})},children:"Cargar imagen"})]})]})})},G=Z.Ry().shape({type:Z.Z_().required("Debe ingresar un tipo de promocion"),due_date:Z.hT()});var K=(0,l.Z)("bingosApp",_.Z)((function(e){var n=(0,x.I0)(),t=(0,x.v9)(j.dP),l=(0,b.Z)((function(e){return e.breakpoints.down("lg")})),Z=(0,h.UO)(),_=(0,f.useState)(!1),y=(0,i.Z)(_,2),k=y[0],N=y[1],w=(0,g.cI)({mode:"onChange",defaultValues:{header:"",name:"",year_month:""},resolver:(0,v.X)(G)}),S=w.reset,C=w.watch,P=(w.control,w.onChange,w.formState,C()),E=(0,h.TH)();return(0,c.KW)((function(){!function(){var e=Z.bingoId;n("new"===e?(0,j.rj)():(0,j.NH)(E.state))}()}),[n,Z,E]),(0,f.useEffect)((function(){t&&S(t)}),[t,S]),(0,f.useEffect)((function(){return function(){n((0,j.pL)()),N(!1)}}),[n]),k?(0,A.jsxs)(d.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,A.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"No hay Bingos!"}),(0,A.jsx)(m.Z,{className:"mt-24",component:p.rU,variant:"outlined",to:"/bingos",color:"inherit",children:"Volver a Bingos"})]}):s.Z.isEmpty(P)||t&&Z.bingoId!==t.id&&"new"!==Z.bingoId&&"update"!==Z.bingoId?(0,A.jsx)(a.Z,{}):(0,A.jsx)(g.RV,(0,r.Z)((0,r.Z)({},w),{},{children:(0,A.jsx)(o.Z,{header:(0,A.jsx)(z,{}),content:(0,A.jsx)(U,{params:Z.bingoId}),scroll:l?"normal":"content"})}))}))},12391:function(e,n,t){t.d(n,{Dh:function(){return g},Jx:function(){return h},Jz:function(){return f},N2:function(){return x},NH:function(){return _},dP:function(){return y},ek:function(){return m},hh:function(){return p},pL:function(){return b},rj:function(){return j}});var r,i=t(4942),a=t(1413),s=t(74165),o=t(15861),l=t(45133),c=t.n(l),u=t(97744),d=t(90326),m=(0,u.hg)("bingosApp/bingo/addBingo",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("bingoData",n),e.next=4,c().post(d._n+d.pc+"/back/bingos",n,{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),f=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().put(d._n+d.pc+"/back/bingos",(0,a.Z)({},n),{headers:{Authorization:d.o3}});case 2:return t=e.sent,console.log(t),e.next=6,t.data;case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=(0,u.hg)("bingosApp/bingo/addFile",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,e.next=3,c().post(d._n+d.pc+"/back/files/bingo",n,{headers:{Authorization:d.o3}});case 3:return r=e.sent,e.next=6,r.data;case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),h=(0,u.hg)("bingosApp/bingo/getImages",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("dataaaaaaaa",n),e.next=4,c().post(d._n+d.pc+"/back/images",n,{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),p=(0,u.hg)("bingosApp/bingo/updateImages",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("objImg",n),e.next=4,c().put(d._n+d.pc+"/back/images",n,{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),g=(0,u.hg)("bingosApp/bingo/removeBingo",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("deleteeeeeee",n),e.next=4,c().delete(d._n+d.pc+"/back/bingos/",{id:n});case 4:return e.abrupt("return",id);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),v=(0,u.oM)({name:"bingosApp/bingo",initialState:{bingo:{name:"",type:"",year_month:"",header:"",mission_1:null,mission_2:null,mission_3:null,mission_4:null,mission_5:null,mission_6:null,mission_7:null,mission_8:null,mission_9:null,mission_10:null,line_1:"",line_2:"",header_line_1:"",header_line_2:"",expire_at:""}},reducers:{resetBingo:function(){return null},newBingo:{reducer:function(e,n){return n.payload},prepare:function(e){return{payload:{id:"",name:"",type:"",year_month:"",header:"",mission_1:null,mission_2:null,mission_3:null,mission_4:null,mission_5:null,mission_6:null,mission_7:null,mission_8:null,mission_9:null,mission_10:null,line_1:"",line_2:"",header_line_1:"",header_line_2:"",expire_at:""}}}},setBingo:{reducer:function(e,n){return n.payload}}},extraReducers:(r={},(0,i.Z)(r,m.fulfilled,(function(e,n){return n.payload})),(0,i.Z)(r,f.fulfilled,(function(e,n){return n.payload})),(0,i.Z)(r,h.fulfilled,(function(e,n){return n.payload})),(0,i.Z)(r,p.fulfilled,(function(e,n){return n.payload})),(0,i.Z)(r,g.fulfilled,(function(e,n){return null})),r)}),Z=v.actions,b=Z.resetBingo,j=Z.newBingo,_=Z.setBingo,y=function(e){return e.bingosApp.bingo};n.ZP=v.reducer},10075:function(e,n,t){t.d(n,{Dm:function(){return g},Ku:function(){return d},Xp:function(){return f},mY:function(){return b},ng:function(){return x},vp:function(){return m},wy:function(){return Z}});var r,i=t(4942),a=t(74165),s=t(15861),o=t(45133),l=t.n(o),c=t(97744),u=t(90326),d=(0,c.hg)("bingosApp/getBingos",(0,s.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/bingos",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return(t=e.sent).filter((function(e){return!1===e.deleted})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),m=(0,c.hg)("bingosApp/getBrands",(0,s.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/brands",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),f=(0,c.hg)("bingosApp/getProducts",(0,s.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/products",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),x=(0,c.hg)("bingosApp/getVariables",(0,s.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/variables",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),h=(0,c.HF)({}),p=h.getSelectors((function(e){return e.bingosApp.bingos})),g=p.selectAll,v=(p.selectById,(0,c.oM)({name:"bingosApp",initialState:h.getInitialState({searchText:""}),reducers:{setBingosSearchText:{reducer:function(e,n){e.searchText=n.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,i.Z)(r,d.fulfilled,h.setAll),(0,i.Z)(r,m.fulfilled,h.setAll),(0,i.Z)(r,f.fulfilled,h.setAll),(0,i.Z)(r,x.fulfilled,h.setAll),r)})),Z=v.actions.setBingosSearchText,b=function(e){return e.bingosApp.bingos.searchText};n.ZP=v.reducer},4066:function(e,n,t){var r=t(48028),i=t(10075),a=t(12391),s=(0,r.UY)({bingos:i.ZP,bingo:a.ZP});n.Z=s},74268:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(4942),i=t(63366),a=t(87462),s=t(50390),o=t(31897),l=t(64604),c=t(16756),u=t(72717),d=t(62559),m=(0,u.Z)((0,d.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),f=(0,u.Z)((0,d.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),x=(0,u.Z)((0,d.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),h=t(91442),p=t(76869),g=t(3109),v=t(56604);function Z(e){return(0,v.Z)("MuiCheckbox",e)}var b=(0,t(77157).Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),j=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],_=(0,g.ZP)(c.Z,{shouldForwardProp:function(e){return(0,g.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.indeterminate&&n.indeterminate,"default"!==t.color&&n["color".concat((0,h.Z)(t.color))]]}})((function(e){var n,t=e.theme,i=e.ownerState;return(0,a.Z)({color:t.palette.text.secondary},!i.disableRipple&&{"&:hover":{backgroundColor:(0,l.Fq)("default"===i.color?t.palette.action.active:t.palette[i.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==i.color&&(n={},(0,r.Z)(n,"&.".concat(b.checked,", &.").concat(b.indeterminate),{color:t.palette[i.color].main}),(0,r.Z)(n,"&.".concat(b.disabled),{color:t.palette.action.disabled}),n))})),y=(0,d.jsx)(f,{}),k=(0,d.jsx)(m,{}),N=(0,d.jsx)(x,{}),w=s.forwardRef((function(e,n){var t,r,l=(0,p.Z)({props:e,name:"MuiCheckbox"}),c=l.checkedIcon,u=void 0===c?y:c,m=l.color,f=void 0===m?"primary":m,x=l.icon,g=void 0===x?k:x,v=l.indeterminate,b=void 0!==v&&v,w=l.indeterminateIcon,S=void 0===w?N:w,C=l.inputProps,P=l.size,A=void 0===P?"medium":P,z=(0,i.Z)(l,j),E=b?S:g,B=b?S:u,I=(0,a.Z)({},l,{color:f,indeterminate:b,size:A}),M=function(e){var n=e.classes,t=e.indeterminate,r=e.color,i={root:["root",t&&"indeterminate","color".concat((0,h.Z)(r))]},s=(0,o.Z)(i,Z,n);return(0,a.Z)({},n,s)}(I);return(0,d.jsx)(_,(0,a.Z)({type:"checkbox",inputProps:(0,a.Z)({"data-indeterminate":b},C),icon:s.cloneElement(E,{fontSize:null!=(t=E.props.fontSize)?t:A}),checkedIcon:s.cloneElement(B,{fontSize:null!=(r=B.props.fontSize)?r:A}),ownerState:I,ref:n},z,{classes:M}))}))}}]);
//# sourceMappingURL=3011.2b85c7f6.chunk.js.map