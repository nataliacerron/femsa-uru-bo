"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[4913],{14913:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var r=t(1413),a=t(29439),i=t(52452),s=t(41930),l=t(93938),c=t(54696),o=t(96763),u=t(35477),d=t(95209),m=t(5019),p=t(50390),f=t(4743),x=t(10361),h=t(1314),Z=t(18369),b=t(33383),v=t(49360),g=t(94001),j=t(75219),w=t(37604),y=t(74165),k=t(15861),S=t(88669),I=t(82360),P=t(93693),C=(t(78449),t(31588)),N=t(34758),A=t(14476),_=t(62586),E=t(41627),F=t(62559);var D=function(e){var n=e.params,t=(0,f.I0)(),r=(0,Z.Gc)(),i=r.formState,l=r.watch,c=r.getValues,o=i.isValid,b=i.dirtyFields,v=(0,S.Z)(),g=(0,x.s0)(),w=l("image"),D=(0,p.useState)({msg:"",alert:""}),O=(0,a.Z)(D,2),W=O[0],M=O[1],z=(0,p.useState)(!1),B=(0,a.Z)(z,2),V=B[0],q=B[1],Q=l("status"),T=l();console.log("estado",Q);var U=(0,p.useState)(),K=(0,a.Z)(U,2),R=(K[0],K[1]),G=(0,p.useState)(!1),X=(0,a.Z)(G,2),H=X[0],L=X[1],J=(0,x.UO)().imperdibleId,Y=(0,C.cF)();(0,f.v9)(N.dy),l("file_id"),console.log("params",n);var $=function(){var e=(0,k.Z)((0,y.Z)().mark((function e(){var n,r;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c(),console.log("data a guardar: ",n),"0"===n.channel||"0"===n.gec||""===n.name||0===n.month||0===n.year||0===n.items.length?M({msg:"Existen campos vac\xedos",alert:!1}):(L(!0),"new"===J?(delete n.brand,console.log("data",n),t((0,j.tl)(n)).then((function(){console.log(" se guardo con exito"),g("/imperdibles")}))):(delete n.brand,r=Object.fromEntries(Object.entries(n).filter((function(e){return"updated_at"!==e[0]}))),t((0,j.BI)(r)).then((function(e){"fulfilled"===e.meta.requestStatus&&M(!0),"rejected"===e.meta.requestStatus&&M(!1),g("/imperdibles")}))));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object.keys(T).some((function(e){return T[e]!==l(e)})),(0,p.useEffect)((function(){var e=(0,C.iH)(Y,"files/bingo");(0,C.aF)(e).then((function(e){console.log(e,"res"),e.prefixes.forEach((function(e){console.log(e,"folderRef")})),e.items.forEach((function(e){console.log(e,"itemRef")}))})).catch((function(e){}))}),[]),(0,p.useEffect)((function(){if(void 0!==(null===w||void 0===w?void 0:w.name)){var e=new FileReader;e.addEventListener("load",(function(){R(e.result)})),e.readAsDataURL(w)}else R(w)}),[w]),(0,F.jsxs)("div",{className:"flex flex-col flex-1 w-full ",children:[(0,F.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,F.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,F.jsx)(d.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,F.jsxs)(u.Z,{className:"flex items-center sm:mb-12",component:h.rU,role:"button",to:"/imperdibles",color:"inherit",children:[(0,F.jsx)(I.Z,{size:20,children:"ltr"===v.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,F.jsx)("span",{className:"flex mx-4 font-medium",children:"Imperdibles"})]})}),(0,F.jsx)("div",{className:"flex max-w-full",children:(0,F.jsxs)(d.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"new"===n?"Nueva Imperdible":"update"===n?"Actualizar Imperdible":"Vista de Imperdible"}),(0,F.jsx)(u.Z,{variant:"caption",className:"font-medium",children:"Detalle de la Imperdible"})]})})]}),"view"!==J&&(0,F.jsxs)(d.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,F.jsx)(E.Z,{open:V,title:"Confirmar Eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas eliminar esta Imperdible?",onCancel:function(){q(!1)},onConfirm:function(){var e=c();t((0,j.Kz)(e.id)).then((function(){g("/imperdibles")})),q(!1)}}),"update"===J&&(0,F.jsx)(m.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){q(!0)},startIcon:(0,F.jsx)(I.Z,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Eliminar"}),(0,F.jsx)(A.Z,{color:"secondary",onClick:function(){$()},loading:H,loadingPosition:"start",startIcon:(0,F.jsx)(_.Z,{}),variant:"contained",disabled:"new"===J?s.Z.isEmpty(b)||!o:null,children:(0,F.jsx)("span",{children:"Guardar"})}),"update"===J&&"pendiente"===Q&&(0,F.jsx)(m.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"success",onClick:function(){var e=c();delete e.updated_at,e.status="publicado",console.log("data",e),t((0,j.BI)(e)).then((function(e){"fulfilled"===e.meta.requestStatus&&M(!0),"rejected"===e.meta.requestStatus&&M(!1),g("/imperdibles")}))},startIcon:(0,F.jsx)(I.Z,{className:"hidden sm:flex",children:"heroicons-outline:upload"}),children:"Publicar"}),"update"===J&&"publicado"===Q&&(0,F.jsx)(m.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"error",onClick:function(){var e=c();delete e.updated_at,e.status="cancelado",t((0,j.BI)(e)).then((function(e){"fulfilled"===e.meta.requestStatus&&M(!0),"rejected"===e.meta.requestStatus&&M(!1),g("/imperdibles")}))},startIcon:(0,F.jsx)(I.Z,{className:"hidden sm:flex",children:"heroicons-outline:x"}),children:"Cancelar"})]})]}),W.alert&&(0,F.jsx)(P.Z,{severity:"success",children:"Los datos se guardaron correctamente"}),!1===W.alert?(0,F.jsx)(P.Z,{severity:"error",children:W.msg}):null]})},O=t(93433),W=t(12066),M=t(25594),z=t(43965),B=t(31680),V=t(73413),q=t(67440),Q=(t(60606),t(95467)),T=t(23352),U=t(26759),K=t(95995),R=(t(7262),t(58217)),G=t(74268),X=t(70902);var H=function(e){var n=e.params,t=(0,Z.Gc)(),i=t.control,s=t.formState,l=t.setValue,c=(s.errors,i._formValues),o=(c.name,c.month,c.year,c.channel,c.gec),d=c.items,x=(c.bonus,(0,p.useState)(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"])),h=(0,a.Z)(x,2),b=h[0],v=(h[1],(0,p.useState)([])),g=(0,a.Z)(v,2),j=g[0],w=g[1],S=(0,p.useState)("sku"),P=(0,a.Z)(S,2),C=P[0],N=P[1],A=(0,p.useState)(!0),_=(0,a.Z)(A,2),E=(_[0],_[1],(0,p.useState)()),D=(0,a.Z)(E,2),H=D[0],L=D[1],J=(0,p.useState)(),Y=(0,a.Z)(J,2),$=Y[0],ee=Y[1],ne=(0,p.useState)([]),te=(0,a.Z)(ne,2),re=te[0],ae=te[1],ie=(0,p.useState)([]),se=(0,a.Z)(ie,2),le=se[0],ce=se[1],oe=(0,p.useState)([]),ue=(0,a.Z)(oe,2),de=ue[0],me=ue[1],pe=(0,p.useState)([]),fe=(0,a.Z)(pe,2),xe=fe[0],he=fe[1],Ze=(0,p.useState)(""),be=(0,a.Z)(Ze,2),ve=(be[0],be[1]),ge=(0,p.useState)(!1),je=(0,a.Z)(ge,2),we=je[0],ye=je[1],ke=(0,p.useState)([]),Se=(0,a.Z)(ke,2),Ie=Se[0],Pe=Se[1],Ce=(0,p.useState)(!1),Ne=(0,a.Z)(Ce,2),Ae=Ne[0],_e=Ne[1],Ee=(0,p.useState)(le),Fe=(0,a.Z)(Ee,2),De=Fe[0],Oe=Fe[1],We=(0,p.useState)([]),Me=(0,a.Z)(We,2),ze=(Me[0],Me[1],(0,f.I0)()),Be=(0,p.useState)({cmd:"sku",label:"",instructions:"",img:"",skus:[],target:1,points:"",brand:[]}),Ve=(0,a.Z)(Be,2),qe=Ve[0],Qe=Ve[1],Te={PaperProps:{style:{maxHeight:224,width:250}}};(0,p.useEffect)((function(){for(var e=(new Date).getFullYear(),n=[],t=0;t<5;t++)n.push(e+t);w(n)}),[]),(0,p.useEffect)((function(){ze((0,T.vp)()).then((function(e){ae(e.payload.sort((function(e,n){return e.brand.localeCompare(n.brand)})))})),ze((0,T.Xp)()).then((function(e){ce(e.payload.sort((function(e,n){return e.sku>n.sku?1:-1}))),Oe(e.payload.sort((function(e,n){return e.sku>n.sku?1:-1})))})),ze((0,T.ng)()).then((function(e){L(e.payload.channels)}))}),[ze]),(0,p.useEffect)((function(){me(d)}),[d]),(0,p.useEffect)((function(){if(i._formValues.channel&&H.length>=1){var e=H.find((function(e){return e.canal===i._formValues.channel}));console.log("gec",o),ee(e.gec)}}),[H]),(0,p.useEffect)((function(){l("items",de,{shouldDirty:!0,shouldValidate:!0})}),[xe]);var Ue=function(){var e=(0,k.Z)((0,y.Z)().mark((function e(n){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve(n),ye(!0);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ke=function(){var e=(0,k.Z)((0,y.Z)().mark((function e(n){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe([]);case 2:e.t0=n.target.value,e.next=1===e.t0?5:2===e.t0?8:3===e.t0?11:14;break;case 5:return e.next=7,(0,U.QO)("images/logos_con_fondo",Pe);case 7:case 10:case 13:case 20:return e.abrupt("break",21);case 8:return e.next=10,(0,U.QO)("images/logos_sin_fondo",Pe);case 11:return e.next=13,(0,U.QO)("images/empaques",Pe);case 14:return e.next=16,(0,U.QO)("images/logos_con_fondo",Pe);case 16:return e.next=18,(0,U.QO)("images/logos_sin_fondo",Pe);case 18:return e.next=20,(0,U.QO)("images/empaques",Pe);case 21:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Re=function(e){me(de.filter((function(n,t){return t!==e}))),he(de.filter((function(n,t){return t!==e})))};return we?(0,F.jsxs)(M.ZP,{container:!0,padding:5,rowSpacing:2,columnSpacing:{xs:1,sm:1,md:3},children:[(0,F.jsx)(M.ZP,{item:!0,xs:12,children:(0,F.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-bold",children:"Seleccionar imagen"})}),(0,F.jsx)(M.ZP,{item:!0,xs:12,children:(0,F.jsxs)(z.Z,{id:"selectImg",variant:"outlined",fullWidth:!0,onChange:function(e){return Ke(e)},defaultValue:-1,children:[(0,F.jsx)(B.Z,{value:-1,disabled:!0,children:" Seleccione una Categoria"},3),(0,F.jsx)(B.Z,{value:0,children:" Todas"},0),(0,F.jsx)(B.Z,{value:1,children:" Imagenes con Fondo"},1),(0,F.jsx)(B.Z,{value:2,children:" Imagenes sin Fondo"},2),(0,F.jsx)(B.Z,{value:3,children:" Empaques"},2)]})}),Ie.map((function(e,n){return(0,F.jsx)(M.ZP,{item:!0,xs:6,md:2,textAlign:"center",children:(0,F.jsx)("img",{className:"rounded",src:e,onClick:function(e){!function(e){Qe((0,r.Z)((0,r.Z)({},qe),{},{img:e.target.src})),_e(!0)}(e),ye(!1)},alt:"el"})},n)}))]}):(0,F.jsxs)("div",{className:"ml-10",children:[(0,F.jsxs)(M.ZP,{container:!0,padding:2,rowSpacing:3,columnSpacing:{xs:1,sm:1,md:4},alignItems:"center",children:[(0,F.jsxs)(M.ZP,{item:!0,xs:6,md:4,children:[(0,F.jsx)(u.Z,{className:"text-14 sm:text-14 truncate font-semibold",children:"Nombre"}),(0,F.jsx)(Z.Qr,{name:"name",control:i,render:function(e){var t=e.field;return(0,F.jsx)(W.Z,(0,r.Z)((0,r.Z)({required:!0},t),{},{autoFocus:!0,placeholder:"Ingrese el Nombre",id:"name",variant:"outlined",fullWidth:!0,disabled:"view"===n}))}})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:6,md:1.5,children:[(0,F.jsx)(u.Z,{className:"text-14 sm:text-14 truncate font-semibold",children:"Mes"}),(0,F.jsx)(Z.Qr,{name:"month",control:i,render:function(e){var t=e.field;return(0,F.jsxs)(z.Z,(0,r.Z)((0,r.Z)({},t),{},{id:"month",value:t.value||0,variant:"outlined",fullWidth:!0,disabled:"view"===n,children:[(0,F.jsx)(B.Z,{value:0,children:" Seleccione un Mes"},0),null===b||void 0===b?void 0:b.map((function(e,n){return(0,F.jsxs)(B.Z,{value:n+1,children:[" ",e]},n+1)}))]}))}})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:6,md:1.5,children:[(0,F.jsx)(u.Z,{className:"text-14 sm:text-14 truncate font-semibold",children:"A\xf1o"}),(0,F.jsx)(Z.Qr,{name:"year",control:i,render:function(e){var t=e.field;return(0,F.jsxs)(z.Z,(0,r.Z)((0,r.Z)({},t),{},{id:"year",value:t.value||0,variant:"outlined",fullWidth:!0,disabled:"view"===n,children:[(0,F.jsx)(B.Z,{value:0,children:" Seleccione un A\xf1o"},0),null===j||void 0===j?void 0:j.map((function(e,n){return(0,F.jsxs)(B.Z,{value:e,children:[" ",e]},n)}))]}))}})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:2.5,children:[(0,F.jsx)(u.Z,{className:"text-14 sm:text-14 truncate font-semibold",children:"Canal"}),(0,F.jsx)(Z.Qr,{name:"channel",control:i,render:function(e){var t=e.field;return(0,F.jsxs)(z.Z,(0,r.Z)((0,r.Z)({},t),{},{id:"channel",value:t.value||"0",variant:"outlined",fullWidth:!0,disabled:"view"===n,onChange:function(e){var n=e.target.value;t.onChange(n),function(e){var n=H.find((function(n){return n.canal===e.target.value}));ee(n.gec)}(e)},children:[(0,F.jsx)(B.Z,{value:"0",children:" Seleccione un Canal"}),null===H||void 0===H?void 0:H.map((function(e,n){return(0,F.jsxs)(B.Z,{value:e.canal,children:[" ",e.canal]},n)}))]}))}})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:2.5,children:[(0,F.jsx)(u.Z,{className:"text-14 sm:text-14 truncate font-semibold",children:"GEC"}),(0,F.jsx)(Z.Qr,{name:"gec",control:i,render:function(e){var t=e.field;return(0,F.jsxs)(z.Z,(0,r.Z)((0,r.Z)({},t),{},{id:"gec",value:t.value||"0",variant:"outlined",fullWidth:!0,disabled:"view"===n,children:[(0,F.jsx)(B.Z,{value:"0",children:" Seleccione un GEC"}),null===$||void 0===$?void 0:$.map((function(e,n){return(0,F.jsxs)(B.Z,{value:e,children:[" ",e]},n)}))]}))}})]})]}),"view"!==n&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(M.ZP,{container:!0,padding:2,rowSpacing:1,columnSpacing:{xs:1,sm:1,md:1},alignItems:"center",textAlign:"center",children:(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:1.7,children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Tipo"}),(0,F.jsxs)(V.Z,{value:C,exclusive:!0,onChange:function(e){Qe({cmd:"",label:"",instructions:"",img:"",skus:[],target:1,points:"",brand:[]}),N(e.target.value),Qe((0,r.Z)((0,r.Z)({},qe),{},{cmd:e.target.value})),_e(!1)},"aria-label":"channel or client",id:"type",children:[(0,F.jsx)(q.Z,{value:"photo","aria-label":"Foto",children:"Foto"}),(0,F.jsx)(q.Z,{value:"sku","aria-label":"Producto",children:"Producto"})]})]})}),(0,F.jsxs)(M.ZP,{container:!0,padding:2,rowSpacing:1,columnSpacing:{xs:1,sm:1,md:1},alignItems:"center",textAlign:"center",children:["sku"===C?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:1.5,display:"grid",justifyItems:"center",alignItems:"center",children:[(0,F.jsx)(m.Z,{className:"text-10 mt-20",variant:"contained",component:"label",color:"primary",onClick:function(){return Ue({propertyName:"header"})},children:" Cargar Imagen"}),Ae&&(0,F.jsx)("img",{width:"60%",className:"rounded",alignItems:"center",src:qe.img})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:2,children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Label"}),(0,F.jsx)(W.Z,{value:qe.label,onChange:function(e){return Qe((0,r.Z)((0,r.Z)({},qe),{},{label:e.target.value}))}})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:2.5,children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Marcas"}),(0,F.jsx)(z.Z,{labelId:"marca-multiple-checkbox-label",multiple:!0,value:qe.brand,onChange:function(e){return function(e){var n=e.target.value;Qe((0,r.Z)((0,r.Z)({},qe),{},{brand:"string"===typeof n?n.split(","):n}));var t=[];console.log("value",n),t=0===n.length?le:le.filter((function(e){return n.includes(e.brand)})),Oe(t)}(e)},input:(0,F.jsx)(R.Z,{}),renderValue:function(e){return e.join(", ")},MenuProps:Te,label:"Sku",fullWidth:!0,children:re.map((function(e){return(0,F.jsxs)(B.Z,{value:e.brand,children:[(0,F.jsx)(G.Z,{checked:qe.brand.indexOf(e.brand)>-1}),(0,F.jsx)(X.Z,{primary:e.brand})]},e.id)}))})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:3,children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"SKUs"}),(0,F.jsx)(z.Z,{multiple:!0,value:qe.skus||0,onChange:function(e){return function(e){var n=e.target.value;console.log("testttt",n),Qe((0,r.Z)((0,r.Z)({},qe),{},{skus:"string"===typeof n?n.split(","):n}))}(e)},input:(0,F.jsx)(R.Z,{}),renderValue:function(e){return e.join(", ")},MenuProps:Te,label:"Sku",fullWidth:!0,children:De.map((function(e){return(0,F.jsxs)(B.Z,{value:e.sku,children:[(0,F.jsx)(G.Z,{checked:qe.skus.indexOf(e.sku)>-1}),(0,F.jsx)(X.Z,{primary:e.sku+" - "+e.description})]},e.sku)}))})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:1,children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Objetivo"}),(0,F.jsx)(W.Z,{value:qe.target,inputProps:{inputMode:"numeric"},onChange:function(e){return Qe((0,r.Z)((0,r.Z)({},qe),{},{target:parseInt(e.target.value)}))}})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:1,children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Puntos"}),(0,F.jsx)(W.Z,{value:qe.points,inputProps:{inputMode:"numeric"},onChange:function(e){return Qe((0,r.Z)((0,r.Z)({},qe),{},{points:parseInt(e.target.value)}))}})]})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:4,children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Label"}),(0,F.jsx)(W.Z,{fullWidth:!0,value:qe.label,onChange:function(e){return Qe((0,r.Z)((0,r.Z)({},qe),{},{label:e.target.value}))}})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:6,children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Descripci\xf3n"}),(0,F.jsx)(W.Z,{fullWidth:!0,value:qe.instructions,onChange:function(e){return Qe((0,r.Z)((0,r.Z)({},qe),{},{instructions:e.target.value}))}})]}),(0,F.jsxs)(M.ZP,{item:!0,xs:4,md:1,children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Puntos"}),(0,F.jsx)(W.Z,{fullWidth:!0,value:qe.points,inputProps:{inputMode:"numeric"},onChange:function(e){return Qe((0,r.Z)((0,r.Z)({},qe),{},{points:parseInt(e.target.value)}))}})]})]}),(0,F.jsx)(M.ZP,{item:!0,xs:4,md:1,children:(0,F.jsx)(Q.Z,{"aria-label":"Agregar",type:"button",onClick:function(){return function(){var e=qe;e.cmd=C,console.log("imperdibleAdd",e),0!==e.skus.length&&(de?(me([].concat((0,O.Z)(de),[e])),he([].concat((0,O.Z)(de),[e]))):(me([e]),he([e])),Qe({cmd:"",label:"",instructions:"",img:"",skus:[],target:1,points:"",brand:[]}),_e(!1),Oe(le))}()},className:"mt-20",children:(0,F.jsx)(I.Z,{size:26,color:"primary",children:"heroicons-outline:plus-circle"})})})]})]}),(0,F.jsx)(K.Z,{}),null===de||void 0===de?void 0:de.map((function(e,t){return(0,F.jsx)("div",{children:(0,F.jsx)(M.ZP,{container:!0,padding:2,rowSpacing:1,columnSpacing:{xs:1,sm:1,md:1},alignItems:"center",textAlign:"center",justify:"center",children:"sku"===e.cmd?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(M.ZP,{item:!0,xs:6,md:1,style:{display:"flex",justifyContent:"center"},children:(0,F.jsx)("img",{width:"70%",src:e.img,alt:"item"})}),(0,F.jsx)(M.ZP,{item:!0,xs:6,md:4,children:(0,F.jsx)(W.Z,{disabled:!0,fullWidth:!0,label:"Producto",value:e.label})}),(0,F.jsx)(M.ZP,{item:!0,xs:6,md:4,children:(0,F.jsx)(W.Z,{disabled:!0,fullWidth:!0,label:"SKUs",value:e.skus})}),(0,F.jsx)(M.ZP,{item:!0,xs:6,md:1,children:(0,F.jsx)(W.Z,{disabled:!0,fullWidth:!0,label:"Objetivo",value:e.target})}),(0,F.jsx)(M.ZP,{item:!0,xs:6,md:1,children:(0,F.jsx)(W.Z,{disabled:!0,fullWidth:!0,label:"Puntos",value:e.points})}),"view"!==n&&(0,F.jsx)(M.ZP,{item:!0,xs:6,md:1,children:(0,F.jsx)(Q.Z,{"aria-label":"Agregar",type:"button",onClick:function(){return Re(t)},children:(0,F.jsx)(I.Z,{size:26,color:"error",children:"heroicons-outline:trash"})})})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(M.ZP,{item:!0,xs:6,md:4,children:(0,F.jsx)(W.Z,{fullWidth:!0,disabled:!0,label:"Label",value:e.label})}),(0,F.jsx)(M.ZP,{item:!0,xs:6,md:5,children:(0,F.jsx)(W.Z,{fullWidth:!0,disabled:!0,label:"Descripcion",value:e.instructions})}),(0,F.jsx)(M.ZP,{item:!0,xs:6,md:1,children:(0,F.jsx)(W.Z,{fullWidth:!0,disabled:!0,label:"Puntos",value:e.points})}),"view"!==n&&(0,F.jsx)(M.ZP,{item:!0,xs:6,md:1,children:(0,F.jsx)(Q.Z,{"aria-label":"Agregar",type:"button",onClick:function(){return Re(t)},children:(0,F.jsx)(I.Z,{size:26,color:"error",children:"heroicons-outline:trash"})})})]})})},e.id)})),(0,F.jsx)(K.Z,{}),(0,F.jsx)(M.ZP,{container:!0,padding:2,rowSpacing:1,columnSpacing:{xs:1,sm:1,md:3},alignItems:"center",justify:"center"})]})},L=v.Ry().shape({channel:v.Z_().required("Debe seleccionar un Canal"),gec:v.Z_().required("Debe seleccionar un GEC"),year:v.Z_().required("Debe seleccionar un Ano"),name:v.Z_().required("Debe ingresar un Nombre"),month:v.Z_().required("Debe ingresar un mes"),items:v.IX().min(1,"Debe tener al menos una misi\xf3n asignada")});var J=(0,c.Z)("imperdiblesApp",w.Z)((function(e){var n=(0,f.I0)(),t=(0,f.v9)(j.I9),c=(0,g.Z)((function(e){return e.breakpoints.down("lg")})),v=(0,x.UO)(),w=(0,p.useState)(!1),y=(0,a.Z)(w,2),k=y[0],S=y[1],I=(0,Z.cI)({mode:"onChange",defaultValues:{deleted:!1,items:[]},resolver:(0,b.X)(L)}),P=I.reset,C=I.watch,N=(I.control,I.onChange,I.formState,C()),A=(0,x.TH)();return(0,o.KW)((function(){!function(){var e=v.imperdibleId;n("new"===e?(0,j.XA)():(0,j.mi)(A.state))}()}),[n,v,A]),(0,p.useEffect)((function(){t&&P(t)}),[t,P]),(0,p.useEffect)((function(){return function(){n((0,j.tm)()),S(!1)}}),[n]),k?(0,F.jsxs)(d.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,F.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"No hay Imperdiblees"}),(0,F.jsx)(m.Z,{className:"mt-24",component:h.rU,variant:"outlined",to:"/imperdibles",color:"inherit",children:"Volver a Imperdiblees"})]}):s.Z.isEmpty(N)||t&&v.imperdibleId!==t.id&&"new"!==v.imperdibleId&&"update"!==v.imperdibleId&&"view"!==v.imperdibleId?(0,F.jsx)(i.Z,{}):(0,F.jsx)(Z.RV,(0,r.Z)((0,r.Z)({},I),{},{children:(0,F.jsx)(l.Z,{header:(0,F.jsx)(D,{params:v.imperdibleId}),content:(0,F.jsx)(H,{params:v.imperdibleId}),scroll:c?"normal":"content"})}))}))},75219:function(e,n,t){t.d(n,{BI:function(){return p},I9:function(){return j},Kz:function(){return x},XA:function(){return v},mi:function(){return g},t:function(){return f},tl:function(){return m},tm:function(){return b}});var r,a=t(4942),i=t(1413),s=t(74165),l=t(15861),c=t(97744),o=t(45133),u=t.n(o),d=t(90326),m=(0,c.hg)("imperdiblesApp/imperdible/addImperdible",function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("imperdibleData a guardar",n),e.next=4,u().post(d._n+d.pc+"/back/imperdibles",n,{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,console.log("dataaaaaa",a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),p=(0,c.hg)("imperdiblesApp/imperdible/updateImperdible",function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("imperdibleData",n),e.next=4,u().put(d._n+d.pc+"/back/imperdibles/".concat(n.id),(0,i.Z)({},n),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),f=((0,c.hg)("imperdiblesApp/imperdible/addFile",function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("fileeeeeeeeeeeee",n),e.next=4,u().post(d._n+d.pc+"/back/files",n,{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),(0,c.hg)("imperdiblesApp/imperdible/getOneImperdibles",function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("vaaaal",n),e.next=4,u().get(d._n+d.pc+"/back/imperdibles/".concat(n.id),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())),x=(0,c.hg)("imperdiblesApp/imperdible/removeImperdible",function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("deleteeeeeee",n),e.next=4,u().delete(d._n+d.pc+"/back/imperdibles/".concat(n),{headers:{Authorization:d.o3}});case 4:return e.abrupt("return",id);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),h=(0,c.oM)({name:"imperdiblesApp/imperdible",initialState:{imperdible:{deleted:!1,items:[]}},reducers:{resetImperdible:function(){return null},newImperdible:{reducer:function(e,n){return n.payload},prepare:function(e){return{payload:{deleted:!1,items:[]}}}},setImperdible:{reducer:function(e,n){return n.payload}}},extraReducers:(r={},(0,a.Z)(r,m.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,p.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,x.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,f.fulfilled,(function(e,n){return n.payload})),r)}),Z=h.actions,b=Z.resetImperdible,v=Z.newImperdible,g=Z.setImperdible,j=function(e){return e.imperdiblesApp.imperdible};n.ZP=h.reducer},23352:function(e,n,t){t.d(n,{Tm:function(){return v},UE:function(){return d},Xp:function(){return p},ZX:function(){return Z},hC:function(){return g},ng:function(){return f},vp:function(){return m}});var r,a=t(4942),i=t(74165),s=t(15861),l=t(97744),c=t(45133),o=t.n(c),u=t(90326),d=(0,l.hg)("imperdiblesApp/getImperdibles",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(u._n+u.pc+"/back/imperdibles",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return(t=e.sent).sort((function(e,n){return new Date(n.updated_at)-new Date(e.updated_at)})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),m=(0,l.hg)("imperdiblesApp/getBrands",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(u._n+u.pc+"/back/brands",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),p=(0,l.hg)("imperdiblesApp/getProducts",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(u._n+u.pc+"/back/products",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),f=(0,l.hg)("imperdiblesApp/getVariables",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(u._n+u.pc+"/back/variables",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),x=(0,l.HF)({}),h=x.getSelectors((function(e){return e.imperdiblesApp.imperdibles})),Z=h.selectAll,b=(h.selectById,(0,l.oM)({name:"imperdiblesApp",initialState:x.getInitialState({searchText:"",variables:[]}),reducers:{setImperdiblesSearchText:{reducer:function(e,n){e.searchText=n.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,a.Z)(r,d.fulfilled,x.setAll),(0,a.Z)(r,f.fulfilled,(function(e,n){e.variables=n.payload})),r)})),v=b.actions.setImperdiblesSearchText,g=function(e){return e.imperdiblesApp.imperdibles.searchText};n.ZP=b.reducer},37604:function(e,n,t){var r=t(48028),a=t(23352),i=t(75219),s=(0,r.UY)({imperdibles:a.ZP,imperdible:i.ZP});n.Z=s},41627:function(e,n,t){t(50390);var r=t(54982),a=t(78426),i=t(93085),s=t(7887),l=t(5019),c=t(62559);n.Z=function(e){var n=e.open,t=e.title,o=e.message,u=e.onCancel,d=e.onConfirm;return(0,c.jsxs)(r.Z,{open:n,onClose:u,children:[(0,c.jsx)(a.Z,{children:t}),(0,c.jsx)(i.Z,{children:o}),(0,c.jsxs)(s.Z,{children:[(0,c.jsx)(l.Z,{onClick:u,children:"Cancelar"}),(0,c.jsx)(l.Z,{onClick:d,color:"error",children:"Eliminar"})]})]})}},78449:function(e,n,t){t.d(n,{DB:function(){return c},ni:function(){return o},sS:function(){return u},wf:function(){return l}});var r=t(74165),a=t(15861),i=t(31588),s=t(26759),l=function(){var e=new Date,n=e.getFullYear(),t=e.getMonth()+1;return[e.getDate(),t,n].join("_")},c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.entries(n).map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("img_brief"!==t[0]&&"img_description"!==t[0]||!t[1].name){e.next=8;break}return a=l(),c=(0,i.iH)(s.tO,"coupons/".concat(t[1].name+"_"+a)),e.next=5,(0,i.KV)(c,t[1]);case 5:return e.next=7,(0,i.Jt)(c);case 7:n[t[0]]=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.name){e.next=8;break}return a=l(),c=(0,i.iH)(s.tO,"sliders/".concat(t.name+"_"+a)),e.next=5,(0,i.KV)(c,t);case 5:return e.next=7,(0,i.Jt)(c);case 7:n.image=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),u=function(e,n){if(0==e)return"0 Bytes";var t=n||2,r=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,r)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}}}]);
//# sourceMappingURL=4913.6bb2fb28.chunk.js.map