/*! For license information please see 4890.af9950a3.chunk.js.LICENSE.txt */
(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[4890],{14890:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var r=t(50390),a=t(93938),s=t(54696),i=t(94001),o=t(30863),c=t(5019),l=t(4930),u=t(46981),d=t(35477),p=t(95209),m=t(4743),h=t(1314),f=t(82360),x=t(87856),g=t(62559);var Z=function(e){var n=(0,m.I0)(),t=(0,m.v9)(x.lv);return(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,g.jsx)(d.Z,{component:p.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Misiones"}),(0,g.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,g.jsxs)(u.Z,{component:p.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,g.jsx)(f.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,g.jsx)(l.Z,{placeholder:"Busqueda de misiones",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return n((0,x.dk)(e))}})]}),(0,g.jsx)(p.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,g.jsx)(c.Z,{className:"",component:h.rU,to:"/misions/new",variant:"contained",color:"secondary",startIcon:(0,g.jsx)(f.Z,{children:"heroicons-outline:plus"}),children:"Agregar"})})," "]})]})},b=t(74165),v=t(1413),y=t(15861),_=t(29439),j=t(34062),w=t(41930),k=t(4182),M=t(35044),P=t(73481),A=t(1769),N=t(29399),S=t(24115),L=t(52452),C=t(58531),z=t(94187),D=t(77555),Y=t(64604),E=[{id:"name",align:"left",disablePadding:!1,label:"Nombre",sort:!0},{id:"month",align:"left",disablePadding:!1,label:"Mes",sort:!0},{id:"year",align:"left",disablePadding:!1,label:"A\xf1o",sort:!0},{id:"channel",align:"left",disablePadding:!1,label:"Canal",sort:!0},{id:"gec",align:"left",disablePadding:!1,label:"GEC",sort:!0},{id:"enabled",align:"left",disablePadding:!1,label:"Habilitado",sort:!0},{id:"status",align:"left",disablePadding:!1,label:"Estado",sort:!0},{id:"buttons",align:"left",label:"Acciones",disablePadding:!1,sort:!0}];var T=function(e){return(0,g.jsx)(D.Z,{children:(0,g.jsx)(N.Z,{className:"h-48 sm:h-64",children:E.map((function(n){return(0,g.jsx)(P.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,Y.$n)(e.palette.background.default,.4):(0,Y.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:n.align,padding:n.disablePadding?"none":"normal",sortDirection:e.order.id===n.id&&e.order.direction,children:n.sort&&(0,g.jsx)(z.Z,{title:"Sort",placement:"right"===n.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,g.jsx)(C.Z,{active:e.order.id===n.id,direction:e.order.direction,onClick:(t=n.id,function(n){e.onRequestSort(n,t)}),className:"font-semibold",children:n.label})})},n.id);var t}),this)})})},R=t(69126),I=t(60606),H=t.n(I);t(55004);var B=(0,S.Z)((function(e){var n=(0,m.I0)(),t=(0,m.v9)(x.sl),a=(0,m.v9)(x.lv),s=(0,r.useState)(!0),i=(0,_.Z)(s,2),o=i[0],l=i[1],u=(0,r.useState)(t),h=(0,_.Z)(u,2),Z=h[0],S=h[1],C=(0,r.useState)(0),D=(0,_.Z)(C,2),Y=D[0],E=D[1],I=(0,r.useState)(10),B=(0,_.Z)(I,2),F=B[0],O=B[1],U=(0,r.useState)({direction:"asc",id:null}),$=(0,_.Z)(U,2),q=$[0],W=$[1];function V(){return(V=(0,y.Z)((0,b.Z)().mark((function n(t){return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.navigate("update",{state:(0,v.Z)({},t)});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function G(){return(G=(0,y.Z)((0,b.Z)().mark((function n(t){return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.navigate("view",{state:(0,v.Z)({},t)});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Q(){return Q=(0,y.Z)((0,b.Z)().mark((function e(t){return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("item",t),n((0,R.$o)(t)).then((function(e){var t=e.payload;console.log(t,"data");var r={name:"COPIA - "+t.name,channel:t.channel,gec:t.gec,missions:t.missions,month:t.month,year:t.year,bonus:t.bonus};console.log("datasssssssssssss",r),n((0,R.cE)(r)).then((function(){console.log(" se guardo con exito"),location.reload()}))}));case 2:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}return(0,r.useEffect)((function(){n((0,x.C3)()).then((function(e){l(!1)}))}),[n]),(0,r.useEffect)((function(){0!==a.length?(S(w.Z.filter(t,(function(e){return null!==e.name?e.name.toLowerCase().includes(a.toLowerCase()):null}))),E(0)):S(t)}),[t,a]),o?(0,g.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,g.jsx)(L.Z,{})}):0===Z.length?(0,g.jsx)(p.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,g.jsx)(d.Z,{color:"text.secondary",variant:"h5",children:"No se encontraron Misiones"})}):(0,g.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,g.jsx)(j.Z,{className:"grow overflow-x-auto",children:(0,g.jsxs)(k.Z,{stickyHeader:!0,className:"min-w-xl ","aria-labelledby":"tableTitle",children:[(0,g.jsx)(T,{order:q,onRequestSort:function(e,n){var t=n,r="desc";q.id===n&&"desc"===q.direction&&(r="asc"),W({direction:r,id:t})},rowCount:Z.length}),(0,g.jsx)(M.Z,{children:w.Z.orderBy(Z,[function(e){return e[q.id]}],[q.direction]).slice(Y*F,Y*F+F).map((function(e){return(0,g.jsxs)(N.Z,{className:"h-72 cursor-pointer",hover:!0,children:[(0,g.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.name}),(0,g.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:H()().month(e.month-1).locale("es").format("MMMM").toUpperCase()}),(0,g.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.year}),(0,g.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.channel}),(0,g.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.gec}),(0,g.jsx)(P.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.enabled?(0,g.jsx)(f.Z,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"}):(0,g.jsx)(f.Z,{className:"text-green",size:20,children:"heroicons-outline:check-circle"})}),(0,g.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.status}),(0,g.jsxs)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:[(0,g.jsx)(z.Z,{title:"Ver",placement:"top",children:(0,g.jsx)(c.Z,{onClick:function(n){return function(e){return G.apply(this,arguments)}(e)},children:(0,g.jsx)(f.Z,{size:20,color:"action",children:"heroicons-outline:eye"})})}),(0,g.jsx)(z.Z,{title:"Editar",placement:"top",children:(0,g.jsx)(c.Z,{onClick:function(n){return function(e){return V.apply(this,arguments)}(e)},children:(0,g.jsx)(f.Z,{size:20,color:"action",children:"heroicons-outline:pencil"})})}),(0,g.jsx)(z.Z,{title:"Descargar",placement:"top",children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(f.Z,{size:20,color:"action",children:"heroicons-outline:download"})})}),(0,g.jsx)(z.Z,{title:"Duplicar",placement:"top",children:(0,g.jsx)(c.Z,{onClick:function(n){return function(e){return Q.apply(this,arguments)}(e)},children:(0,g.jsx)(f.Z,{size:20,color:"action",children:"heroicons-outline:duplicate"})})})]})]},e.id)}))})]})}),(0,g.jsx)(A.Z,{className:"shrink-0 border-t-1",component:"div",count:Z.length,rowsPerPage:F,page:Y,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,n){E(n)},onRowsPerPageChange:function(e){O(e.target.value)}})]})}));var F=(0,s.Z)("misionsApp",o.Z)((function(){var e=(0,i.Z)((function(e){return e.breakpoints.down("lg")}));return(0,g.jsx)(a.Z,{header:(0,g.jsx)(Z,{}),content:(0,g.jsx)(B,{}),scroll:e?"normal":"content"})}))},30863:function(e,n,t){"use strict";var r=t(48028),a=t(87856),s=t(69126),i=(0,r.UY)({misions:a.ZP,mision:s.ZP});n.Z=i},69126:function(e,n,t){"use strict";t.d(n,{$o:function(){return f},C3:function(){return Z},IR:function(){return y},aZ:function(){return b},cE:function(){return p},mP:function(){return m},sE:function(){return h},xQ:function(){return v}});var r,a=t(4942),s=t(1413),i=t(74165),o=t(15861),c=t(97744),l=t(45133),u=t.n(l),d=t(90326),p=(0,c.hg)("misionsApp/mision/addMision",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("misionData a guardar",n),e.next=4,u().post(d._n+d.pc+"/back/monthly_missions",n,{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,console.log("dataaaaaa",a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),m=(0,c.hg)("misionsApp/mision/updateMision",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("misionData",n),e.next=4,u().put(d._n+d.pc+"/back/monthly_missions/".concat(n.id),(0,s.Z)({},n),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),h=((0,c.hg)("misionsApp/mision/addFile",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("fileeeeeeeeeeeee",n),e.next=4,u().post(d._n+d.pc+"/back/files",n,{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),(0,c.hg)("misionsApp/mision/removeMision",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("deleteeeeeee",n),e.next=4,u().delete(d._n+d.pc+"/back/monthly_missions/".concat(n),{headers:{Authorization:d.o3}});case 4:return e.abrupt("return",id);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())),f=(0,c.hg)("misionsApp/mision/getOneMision",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("vaaaal",n),e.next=4,u().get(d._n+d.pc+"/back/monthly_missions/".concat(n.id),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),x=(0,c.oM)({name:"misionsApp/mision",initialState:{mision:{deleted:!1,missions:[]}},reducers:{resetMision:function(){return null},newMision:{reducer:function(e,n){return n.payload},prepare:function(e){return{payload:{deleted:!1,missions:[]}}}},setMision:{reducer:function(e,n){return n.payload}}},extraReducers:(r={},(0,a.Z)(r,p.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,m.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,h.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,f.fulfilled,(function(e,n){return n.payload})),r)}),g=x.actions,Z=g.resetMision,b=g.newMision,v=g.setMision,y=function(e){return e.misionsApp.mision};n.ZP=x.reducer},87856:function(e,n,t){"use strict";t.d(n,{C3:function(){return d},Xp:function(){return m},dk:function(){return b},lv:function(){return v},ng:function(){return h},sl:function(){return g},vp:function(){return p}});var r,a=t(4942),s=t(74165),i=t(15861),o=t(97744),c=t(45133),l=t.n(c),u=t(90326),d=(0,o.hg)("misionsApp/getMisions",(0,i.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/monthly_missions",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return(t=e.sent).sort((function(e,n){return new Date(n.updated_at)-new Date(e.updated_at)})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),p=(0,o.hg)("misionsApp/getBrands",(0,i.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/brands",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),m=(0,o.hg)("misionsApp/getProducts",(0,i.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/products",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),h=(0,o.hg)("misionsApp/getVariables",(0,i.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/variables",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),f=(0,o.HF)({}),x=f.getSelectors((function(e){return e.misionsApp.misions})),g=x.selectAll,Z=(x.selectById,(0,o.oM)({name:"misionsApp",initialState:f.getInitialState({searchText:"",variables:[]}),reducers:{setMisionsSearchText:{reducer:function(e,n){e.searchText=n.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,a.Z)(r,d.fulfilled,f.setAll),(0,a.Z)(r,h.fulfilled,(function(e,n){e.variables=n.payload})),r)})),b=Z.actions.setMisionsSearchText,v=function(e){return e.misionsApp.misions.searchText};n.ZP=Z.reducer},55004:function(e,n,t){!function(e){"use strict";var n="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),t="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?t[e.month()]:n[e.month()]:n},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(t(60606))}}]);
//# sourceMappingURL=4890.af9950a3.chunk.js.map