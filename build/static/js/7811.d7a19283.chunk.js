"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[7811],{17811:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(1413),a=t(41930),i=t(93938),s=t(54696),o=t(18369),u=t(33383),c=t(49360),l=t(94001),p=t(4066),d=t(74165),f=t(15861),m=t(5019),h=t(88669),x=t(35477),g=t(95209),Z=t(10361),v=t(82360),b=t(31588),w=t(78449),_=t(62559);var y=function(e){var n=(0,o.Gc)(),t=n.formState,r=n.watch,i=t.dirtyFields,s=((0,h.Z)(),r("images")),u=(0,b.cF)(),c=((0,Z.s0)(),function(){var e=(0,f.Z)((0,d.Z)().mark((function e(){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,w.wf)(),e.next=3,Promise.all(s.map(function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,b.iH)(u,"images/logos_sin_fondo/".concat(t.name+"_"+n)),e.next=3,(0,b.KV)(r,t);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())).then((function(){window.location.reload(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,_.jsx)("div",{className:"flex flex-col flex-1 w-full ",children:(0,_.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,_.jsx)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:(0,_.jsx)("div",{className:"flex items-center max-w-full",children:(0,_.jsx)(g.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:(0,_.jsx)(x.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Subir im\xe1genes"})})})}),(0,_.jsx)(g.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:(0,_.jsx)(m.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",disabled:a.Z.isEmpty(i),onClick:c,children:"Guardar"})})]})})},j=t(93433),k=t(29439),A=t(50390),S=t(64604),B=t(18851),P=t(69807),N=t(45898),z=t(49869),F=t(14590),I=t(26759),C=t(25594),M=t(43965),V=t(31680),D=t(12066),E=t(12391),O=t(4743),R=t(52452);t(8938);var T=function(e){var n=(0,o.Gc)(),t=n.control,a=(n.watch,n.setValue,(0,A.useState)({})),i=(0,k.Z)(a,2),s=i[0],u=i[1],c=(0,A.useState)([]),l=(0,k.Z)(c,2),p=l[0],m=l[1],h=(0,A.useState)([]),g=(0,k.Z)(h,2),Z=g[0],y=g[1],T=(0,A.useState)(),q=(0,k.Z)(T,2),H=q[0],K=q[1],J=(0,A.useState)(!1),U=(0,k.Z)(J,2),Y=U[0],G=U[1],Q=(0,b.cF)(),L=(0,O.I0)(),W=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(n){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m([]);case 2:e.t0=n,e.next=1===e.t0?5:2===e.t0?9:3===e.t0?13:17;break;case 5:return K("logos_con_fondo"),e.next=8,(0,I.QO)("images/logos_con_fondo",m);case 8:case 12:case 16:return e.abrupt("break",17);case 9:return K("logos_sin_fondo"),e.next=12,(0,I.QO)("images/logos_sin_fondo",m);case 13:return K("empaques"),e.next=16,(0,I.QO)("images/empaques",m);case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,A.useEffect)((function(){!function(e){var n=e.map((function(e){var n=e.split("%2F").pop().split("?")[0];return n.replace(/%20/g," ")}));u({list:n.map((function(e){return{name:e,type:H}}))})}(p),console.log("data",s),s&&L((0,E.Jx)(s)).then((function(e){var n=p.map((function(n,t){var r,a,i;return{url:n,label:null===(r=e.payload[t])||void 0===r?void 0:r.label,name:null===(a=e.payload[t])||void 0===a?void 0:a.name,type:null===(i=e.payload[t])||void 0===i?void 0:i.type}}));y(n),console.log("resp",e.payload)})),G(!1)}),[p]),(0,_.jsx)("div",{className:"flex flex-col flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-20 px-24 md:px-20",children:(0,_.jsx)(o.Qr,{name:"images",control:t,render:function(e){var n=e.field,t=n.onChange,a=n.value;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(C.ZP,{container:!0,padding:5,rowSpacing:2,columnSpacing:{xs:1,sm:1,md:3},children:[(0,_.jsx)(C.ZP,{item:!0,xs:6,md:4}),(0,_.jsxs)(C.ZP,{item:!0,xs:6,md:4,textAlign:"center",children:[(0,_.jsx)(x.Z,{className:"text-16 sm:text-16 truncate font-semibold",children:"Imagenes"}),(0,_.jsxs)(M.Z,{id:"selectImg",variant:"outlined",fullWidth:!0,onChange:function(e){G(!0);var n=e.target.value;W(n)},defaultValue:-1,children:[(0,_.jsx)(V.Z,{value:-1,disabled:!0,children:" Seleccione una Categoria"},3),(0,_.jsx)(V.Z,{value:0,children:" Todas"},0),(0,_.jsx)(V.Z,{value:1,children:" Imagenes con Fondo"},1),(0,_.jsx)(V.Z,{value:2,children:" Imagenes sin Fondo"},2),(0,_.jsx)(V.Z,{value:3,children:" Empaques"},4)]})]}),(0,_.jsx)(C.ZP,{item:!0,xs:6,md:4})]}),(0,_.jsx)(P.ZP,{onDrop:t,children:function(e){var n=e.getRootProps,t=e.getInputProps;return(0,_.jsxs)(B.Z,{sx:{width:380},className:"flex items-center justify-center ",children:[(0,_.jsx)(x.Z,{className:"text-14 sm:text-14 mb-20 ",sx:{maxWidth:210,wordBreak:"break-all"},children:"Arrastre y suelte las im\xe1genes aqui, o haga click y seleccione las im\xe1genes"}),(0,_.jsxs)(B.Z,(0,r.Z)((0,r.Z)({},n()),{},{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,S.$n)(e.palette.background.default,.4):(0,S.$n)(e.palette.background.default,.02)}},component:"label",htmlFor:"button-file",className:"productImageUpload flex items-center justify-center relative w-128 h-128 rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer shadow hover:shadow-lg",children:[(0,_.jsx)("input",(0,r.Z)({},t())),(0,_.jsx)(v.Z,{size:32,color:"action",children:"heroicons-outline:upload"})]}))]})}}),0!=a.length&&(0,_.jsx)(N.Z,{sx:{width:1e3,height:250},children:a.map((function(e,n){return(0,_.jsxs)(z.Z,{children:[(0,_.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,loading:"lazy",className:"imgUpload"}),(0,_.jsx)(F.Z,{title:e.name,subtitle:(0,w.sS)(e.size),position:"below"})]},n)}))}),(0,_.jsx)(C.ZP,{container:!0,padding:5,rowSpacing:2,columnSpacing:{xs:1,sm:1,md:3},children:Y?(0,_.jsx)(R.Z,{}):null===Z||void 0===Z?void 0:Z.map((function(e,n){return(0,_.jsxs)(C.ZP,{item:!0,xs:6,md:2,textAlign:"center",children:[(0,_.jsx)("img",{width:"100%",className:"rounded",src:e.url,alt:e.name}),(0,_.jsx)(D.Z,{value:e.label,onChange:function(e){return function(e,n){var t=(0,j.Z)(Z);t[n].label=e.target.value,y(t)}(e,n)}}),(0,_.jsx)("button",{onClick:function(){return function(e){var n=(0,b.iH)(Q,e);(0,b.oq)(n).then((function(){window.location.reload(!1)})).catch((function(e){console.log("Error al eliminar el archivo: ".concat(e))}))}(e)},children:(0,_.jsx)(v.Z,{size:32,color:"error",children:"heroicons-outline:trash"})}),(0,_.jsx)("button",{onClick:function(){return function(e){var n={name:e.name,type:e.type,label:e.label};L((0,E.hh)(n)).then((function(e){}))}(e)},children:(0,_.jsx)(v.Z,{size:32,color:"success",children:"heroicons-outline:pencil-alt"})})]},n)}))})]})}})})},q=c.Ry().shape({images:c.nK().test("required","You need to provide a file",(function(e){return e&&e.size}))});var H=(0,s.Z)("bingosApp",p.Z)((function(e){var n=(0,l.Z)((function(e){return e.breakpoints.down("lg")})),t=(0,o.cI)({mode:"onChange",defaultValues:{images:[]},resolver:(0,u.X)(q)}),a=(t.reset,t.watch);return t.control,t.onChange,t.formState,a(),(0,_.jsx)(o.RV,(0,r.Z)((0,r.Z)({},t),{},{children:(0,_.jsx)(i.Z,{header:(0,_.jsx)(y,{}),content:(0,_.jsx)(T,{}),scroll:n?"normal":"content"})}))}))},12391:function(e,n,t){t.d(n,{Dh:function(){return g},Jx:function(){return h},Jz:function(){return f},N2:function(){return m},NH:function(){return _},dP:function(){return y},ek:function(){return d},hh:function(){return x},pL:function(){return b},rj:function(){return w}});var r,a=t(4942),i=t(1413),s=t(74165),o=t(15861),u=t(45133),c=t.n(u),l=t(97744),p=t(90326),d=(0,l.hg)("bingosApp/bingo/addBingo",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("bingoData",n),e.next=4,c().post(p._n+p.pc+"/back/bingos",n,{headers:{Authorization:p.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),f=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().put(p._n+p.pc+"/back/bingos",(0,i.Z)({},n),{headers:{Authorization:p.o3}});case 2:return t=e.sent,console.log(t),e.next=6,t.data;case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=(0,l.hg)("bingosApp/bingo/addFile",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,e.next=3,c().post(p._n+p.pc+"/back/files/bingo",n,{headers:{Authorization:p.o3}});case 3:return r=e.sent,e.next=6,r.data;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),h=(0,l.hg)("bingosApp/bingo/getImages",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("dataaaaaaaa",n),e.next=4,c().post(p._n+p.pc+"/back/images",n,{headers:{Authorization:p.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),x=(0,l.hg)("bingosApp/bingo/updateImages",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("objImg",n),e.next=4,c().put(p._n+p.pc+"/back/images",n,{headers:{Authorization:p.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),g=(0,l.hg)("bingosApp/bingo/removeBingo",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("deleteeeeeee",n),e.next=4,c().delete(p._n+p.pc+"/back/bingos/",{id:n});case 4:return e.abrupt("return",id);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Z=(0,l.oM)({name:"bingosApp/bingo",initialState:{bingo:{name:"",type:"",year_month:"",header:"",mission_1:null,mission_2:null,mission_3:null,mission_4:null,mission_5:null,mission_6:null,mission_7:null,mission_8:null,mission_9:null,mission_10:null,line_1:"",line_2:"",header_line_1:"",header_line_2:"",expire_at:""}},reducers:{resetBingo:function(){return null},newBingo:{reducer:function(e,n){return n.payload},prepare:function(e){return{payload:{id:"",name:"",type:"",year_month:"",header:"",mission_1:null,mission_2:null,mission_3:null,mission_4:null,mission_5:null,mission_6:null,mission_7:null,mission_8:null,mission_9:null,mission_10:null,line_1:"",line_2:"",header_line_1:"",header_line_2:"",expire_at:""}}}},setBingo:{reducer:function(e,n){return n.payload}}},extraReducers:(r={},(0,a.Z)(r,d.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,f.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,h.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,x.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,g.fulfilled,(function(e,n){return null})),r)}),v=Z.actions,b=v.resetBingo,w=v.newBingo,_=v.setBingo,y=function(e){return e.bingosApp.bingo};n.ZP=Z.reducer},10075:function(e,n,t){t.d(n,{Dm:function(){return g},Ku:function(){return p},Xp:function(){return f},mY:function(){return b},ng:function(){return m},vp:function(){return d},wy:function(){return v}});var r,a=t(4942),i=t(74165),s=t(15861),o=t(45133),u=t.n(o),c=t(97744),l=t(90326),p=(0,c.hg)("bingosApp/getBingos",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(l._n+l.pc+"/back/bingos",{headers:{Authorization:l.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return(t=e.sent).filter((function(e){return!1===e.deleted})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),d=(0,c.hg)("bingosApp/getBrands",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(l._n+l.pc+"/back/brands",{headers:{Authorization:l.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),f=(0,c.hg)("bingosApp/getProducts",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(l._n+l.pc+"/back/products",{headers:{Authorization:l.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),m=(0,c.hg)("bingosApp/getVariables",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(l._n+l.pc+"/back/variables",{headers:{Authorization:l.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),h=(0,c.HF)({}),x=h.getSelectors((function(e){return e.bingosApp.bingos})),g=x.selectAll,Z=(x.selectById,(0,c.oM)({name:"bingosApp",initialState:h.getInitialState({searchText:""}),reducers:{setBingosSearchText:{reducer:function(e,n){e.searchText=n.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,a.Z)(r,p.fulfilled,h.setAll),(0,a.Z)(r,d.fulfilled,h.setAll),(0,a.Z)(r,f.fulfilled,h.setAll),(0,a.Z)(r,m.fulfilled,h.setAll),r)})),v=Z.actions.setBingosSearchText,b=function(e){return e.bingosApp.bingos.searchText};n.ZP=Z.reducer},4066:function(e,n,t){var r=t(48028),a=t(10075),i=t(12391),s=(0,r.UY)({bingos:a.ZP,bingo:i.ZP});n.Z=s},78449:function(e,n,t){t.d(n,{DB:function(){return u},ni:function(){return c},sS:function(){return l},wf:function(){return o}});var r=t(74165),a=t(15861),i=t(31588),s=t(26759),o=function(){var e=new Date,n=e.getFullYear(),t=e.getMonth()+1;return[e.getDate(),t,n].join("_")},u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.entries(n).map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("img_brief"!==t[0]&&"img_description"!==t[0]||!t[1].name){e.next=8;break}return a=o(),u=(0,i.iH)(s.tO,"coupons/".concat(t[1].name+"_"+a)),e.next=5,(0,i.KV)(u,t[1]);case 5:return e.next=7,(0,i.Jt)(u);case 7:n[t[0]]=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var a,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.name){e.next=8;break}return a=o(),u=(0,i.iH)(s.tO,"sliders/".concat(t.name+"_"+a)),e.next=5,(0,i.KV)(u,t);case 5:return e.next=7,(0,i.Jt)(u);case 7:n.image=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),l=function(e,n){if(0==e)return"0 Bytes";var t=n||2,r=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,r)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}}}]);
//# sourceMappingURL=7811.d7a19283.chunk.js.map