/*! For license information please see 6981.a6240536.chunk.js.LICENSE.txt */
(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[6981],{56981:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(93433),a=n(29439),s=n(50390),o=n(93938),c=n(54696),i=n(94001),u=n(3573),l=n(5019),d=n(4930),p=n(46981),f=n(35477),h=n(95209),m=n(4743),x=n(82360),g=n(25898),k=n(62559);var b=function(e){e.props;var t=e.handleGuardar,n=(0,m.I0)(),r=(0,m.v9)(g.hc);return(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,k.jsx)(f.Z,{component:h.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Stock"}),(0,k.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,k.jsxs)(p.Z,{component:h.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,k.jsx)(x.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,k.jsx)(d.Z,{placeholder:"Busqueda de stock",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:r,inputProps:{"aria-label":"Search"},onChange:function(e){return n((0,g.rg)(e))}})]}),(0,k.jsx)(h.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,k.jsx)(l.Z,{type:"button",variant:"contained",color:"success",onClick:t,style:{width:"80px"},children:" Guardar "})})," "]})]})},v=(n(74165),n(1413),n(15861),n(34062)),Z=n(41930),_=n(4182),y=n(35044),j=n(73481),w=n(1769),S=n(29399),P=n(24115),M=n(52452),A=n(58531),L=n(94187),N=n(77555),Y=n(64604),D=[{id:"sku",align:"left",disablePadding:!1,label:"SKU",sort:!0},{id:"description",align:"left",disablePadding:!1,label:"Descripcion",sort:!0},{id:"stock",align:"left",disablePadding:!1,label:"Stock",sort:!0}];var T=function(e){return(0,k.jsx)(N.Z,{children:(0,k.jsx)(S.Z,{className:"h-48 sm:h-64",children:D.map((function(t){return(0,k.jsx)(j.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,Y.$n)(e.palette.background.default,.4):(0,Y.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:e.order.id===t.id&&e.order.direction,children:t.sort&&(0,k.jsx)(L.Z,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,k.jsx)(A.Z,{active:e.order.id===t.id,direction:e.order.direction,onClick:(n=t.id,function(t){e.onRequestSort(t,n)}),className:"font-semibold",children:t.label})})},t.id);var n}),this)})})},C=(n(60606),n(25594)),I=n(12066);n(55004);var z=(0,P.Z)((function(e){e.props;var t=e.handleInputChange,n=(0,m.I0)(),r=(0,m.v9)(g.o9),o=(0,m.v9)(g.hc),c=(0,s.useState)(!0),i=(0,a.Z)(c,2),u=i[0],l=i[1],d=(0,s.useState)(r),p=(0,a.Z)(d,2),x=p[0],b=p[1],P=(0,s.useState)(0),A=(0,a.Z)(P,2),L=A[0],N=A[1],Y=(0,s.useState)(10),D=(0,a.Z)(Y,2),z=D[0],R=D[1],E=(0,s.useState)({direction:"asc",id:null}),B=(0,a.Z)(E,2),F=B[0],H=B[1];return(0,s.useEffect)((function(){n((0,g.Sn)()).then((function(e){l(!1)}))}),[n]),(0,s.useEffect)((function(){0!==o.length?(b(Z.Z.filter(r,(function(e){return null!==e.description?e.description.toLowerCase().includes(o.toLowerCase()):null}))),N(0)):b(r)}),[r,o]),u?(0,k.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,k.jsx)(M.Z,{})}):0===x.length?(0,k.jsx)(h.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,k.jsx)(f.Z,{color:"text.secondary",variant:"h5",children:"No se encontraron Stocks"})}):(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,k.jsx)(v.Z,{className:"grow overflow-x-auto",children:(0,k.jsxs)(_.Z,{stickyHeader:!0,className:"min-w-xl ","aria-labelledby":"tableTitle",children:[(0,k.jsx)(T,{order:F,onRequestSort:function(e,t){var n=t,r="desc";F.id===t&&"desc"===F.direction&&(r="asc"),H({direction:r,id:n})},rowCount:x.length}),(0,k.jsx)(y.Z,{children:Z.Z.orderBy(x,[function(e){return e[F.id]}],[F.direction]).slice(L*z,L*z+z).map((function(e){return(0,k.jsxs)(S.Z,{className:"h-32 cursor-pointer",hover:!0,children:[(0,k.jsx)(j.Z,{className:"p-2 md:p-12 ",component:"th",scope:"row",children:e.sku}),(0,k.jsx)(j.Z,{className:"p-2 md:p-12 ",component:"th",scope:"row",children:e.description}),(0,k.jsx)(j.Z,{className:"p-2 md:p-0 ",component:"th",scope:"row",children:(0,k.jsxs)(C.ZP,{container:!0,padding:2,rowSpacing:2,textAlign:"center",alignItems:"center",children:[(0,k.jsxs)(C.ZP,{item:!0,xs:6,md:2,children:[" ",e.stock]}),(0,k.jsx)(C.ZP,{item:!0,xs:6,md:4,children:(0,k.jsx)(I.Z,{placeholder:"Ingrese nuevo stock",id:"stock-".concat(e.sku),variant:"outlined",fullWidth:!0,className:"p-0 md:p-0",inputProps:{type:"number"},onChange:function(n){return t(n,e.sku)}})})]})})]},e.sku)}))})]})}),(0,k.jsx)(w.Z,{className:"shrink-0 border-t-1",component:"div",count:x.length,rowsPerPage:z,page:L,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,t){N(t)},onRowsPerPageChange:function(e){R(e.target.value)}})]})})})),R=n(99506);var E=(0,c.Z)("stocksApp",u.Z)((function(){var e=(0,s.useState)([]),t=(0,a.Z)(e,2),n=t[0],c=t[1],u=(0,m.I0)(),l=(0,i.Z)((function(e){return e.breakpoints.down("lg")}));return(0,k.jsx)(o.Z,{header:(0,k.jsx)(b,{handleGuardar:function(){console.log("datossssss",n),u((0,R.Fw)(n)).then((function(e){navigate("/stocks")}))}}),content:(0,k.jsx)(z,{handleInputChange:function(e,t){var a=parseInt(e.target.value),s=(0,r.Z)(n),o=s.findIndex((function(e){return e.sku===t}));-1!==o?s[o].qty=a:s.push({sku:t,qty:a}),c(s)}}),scroll:l?"normal":"content"})}))},3573:function(e,t,n){"use strict";var r=n(48028),a=n(25898),s=n(99506),o=(0,r.UY)({stocks:a.ZP,stock:s.ZP});t.Z=o},99506:function(e,t,n){"use strict";n.d(t,{Fw:function(){return p},Tt:function(){return f},_t:function(){return x},dL:function(){return b},fg:function(){return d},uJ:function(){return g},y:function(){return k}});var r,a=n(4942),s=n(74165),o=n(15861),c=n(97744),i=n(45133),u=n.n(i),l=n(90326),d=(0,c.hg)("stocksApp/stock/addStock",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("stockData a guardar",t),e.next=4,u().post(l._n+l.pc+"/back/stock",t,{headers:{Authorization:l.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,console.log("dataaaaaa",a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=(0,c.hg)("stocksApp/stock/updateStock",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("stockData",t),e.next=4,u().put(l._n+l.pc+"/back/catalogs/stock",{products:t},{headers:{Authorization:l.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,c.hg)("stocksApp/stock/removeStock",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("deleteeeeeee",t),e.next=4,u().delete(l._n+l.pc+"/back/stock/".concat(t),{headers:{Authorization:l.o3}});case 4:return e.abrupt("return",id);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=(0,c.oM)({name:"stocksApp/stock",initialState:{stock:{title:""}},reducers:{resetStock:function(){return null},newStock:{reducer:function(e,t){return t.payload},prepare:function(e){return{payload:{title:""}}}},setStock:{reducer:function(e,t){return t.payload}}},extraReducers:(r={},(0,a.Z)(r,d.fulfilled,(function(e,t){return t.payload})),(0,a.Z)(r,p.fulfilled,(function(e,t){return t.payload})),(0,a.Z)(r,f.fulfilled,(function(e,t){return t.payload})),r)}),m=h.actions,x=m.resetStock,g=m.newStock,k=m.setStock,b=function(e){return e.stocksApp.stock};t.ZP=h.reducer},25898:function(e,t,n){"use strict";n.d(t,{Sn:function(){return d},hc:function(){return k},ng:function(){return p},o9:function(){return m},rg:function(){return g}});var r,a=n(4942),s=n(74165),o=n(15861),c=n(97744),i=n(45133),u=n.n(i),l=n(90326),d=(0,c.hg)("stocksApp/getStocks",(0,o.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(l._n+l.pc+"/back/catalogs/stock",{headers:{Authorization:l.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,console.log("data",n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))),p=((0,c.hg)("stocksApp/getBrands",(0,o.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(l._n+l.pc+"/back/brands",{headers:{Authorization:l.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),(0,c.hg)("stocksApp/getProducts",(0,o.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(l._n+l.pc+"/back/products",{headers:{Authorization:l.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),(0,c.hg)("stocksApp/getVariables",(0,o.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(l._n+l.pc+"/back/variables",{headers:{Authorization:l.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))))),f=(0,c.HF)({selectId:function(e){return e.sku}}),h=f.getSelectors((function(e){return e.stocksApp.stocks})),m=h.selectAll,x=(h.selectById,(0,c.oM)({name:"stocksApp",initialState:f.getInitialState({searchText:"",variables:[]}),reducers:{setStocksSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,a.Z)(r,d.fulfilled,f.setAll),(0,a.Z)(r,p.fulfilled,(function(e,t){e.variables=t.payload})),r)})),g=x.actions.setStocksSearchText,k=function(e){return e.stocksApp.stocks.searchText};t.ZP=x.reducer},55004:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(n(60606))}}]);
//# sourceMappingURL=6981.a6240536.chunk.js.map