"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[9076],{59076:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(50390),a=t(93938),s=t(54696),c=t(94001),i=t(15642),o=t(4930),l=t(46981),u=t(35477),d=t(95209),p=t(4743),f=t(82360),h=t(6290),x=t(62559);var m=function(e){var n=(0,p.I0)(),t=(0,p.v9)(h.R6);return(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,x.jsx)(u.Z,{component:d.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Canjes"}),(0,x.jsx)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:(0,x.jsxs)(l.Z,{component:d.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,x.jsx)(f.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,x.jsx)(o.Z,{placeholder:"Busqueda de canjes",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return n((0,h.wE)(e))}})]})})]})},j=(t(74165),t(1413),t(15861),t(29439)),g=t(34062),Z=t(41930),b=t(4182),v=t(35044),w=t(73481),y=t(1769),k=t(29399),C=t(24115),N=t(52452),A=t(58531),P=t(94187),S=t(77555),_=t(64604),R=[{id:"date",align:"left",disablePadding:!1,label:"Fecha",sort:!0},{id:"client",align:"left",disablePadding:!1,label:"Cliente",sort:!0},{id:"name",align:"left",disablePadding:!1,label:"Nombre",sort:!0},{id:"sku",align:"left",disablePadding:!1,label:"SKU",sort:!0},{id:"description",align:"left",disablePadding:!1,label:"Descripcion",sort:!0},{id:"qty",align:"left",disablePadding:!1,label:"Cantidad",sort:!0}];var z=function(e){return(0,x.jsx)(S.Z,{children:(0,x.jsx)(k.Z,{className:"h-48 sm:h-64",children:R.map((function(n){return(0,x.jsx)(w.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,_.$n)(e.palette.background.default,.4):(0,_.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:n.align,padding:n.disablePadding?"none":"normal",sortDirection:e.order.id===n.id&&e.order.direction,children:n.sort&&(0,x.jsx)(P.Z,{title:"Sort",placement:"right"===n.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,x.jsx)(A.Z,{active:e.order.id===n.id,direction:e.order.direction,onClick:(t=n.id,function(n){e.onRequestSort(n,t)}),className:"font-semibold",children:n.label})})},n.id);var t}),this)})})},D=t(60606),E=t.n(D);var B=(0,C.Z)((function(e){var n=(0,p.I0)(),t=(0,p.v9)(h.bv),a=(0,p.v9)(h.R6),s=(0,r.useState)(!0),c=(0,j.Z)(s,2),i=c[0],o=c[1],l=(0,r.useState)(t),f=(0,j.Z)(l,2),m=f[0],C=f[1],A=(0,r.useState)(0),P=(0,j.Z)(A,2),S=P[0],_=P[1],R=(0,r.useState)(10),D=(0,j.Z)(R,2),B=D[0],I=D[1],T=(0,r.useState)({direction:"asc",id:null}),q=(0,j.Z)(T,2),Y=q[0],H=q[1];return(0,r.useEffect)((function(){n((0,h.kH)()).then((function(e){o(!1)}))}),[n]),(0,r.useEffect)((function(){0!==a.length?(C(Z.Z.filter(t,(function(e){return null!==e.business_name&&e.business_name.toLowerCase().includes(a.toLowerCase())||null!==e.client_id&&e.client_id.includes(a)}))),_(0)):C(t)}),[t,a]),i?(0,x.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,x.jsx)(N.Z,{})}):0===m.length?(0,x.jsx)(d.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,x.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"No se encontraron Competencias"})}):(0,x.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,x.jsx)(g.Z,{className:"grow overflow-x-auto",children:(0,x.jsxs)(b.Z,{stickyHeader:!0,className:"min-w-xl ","aria-labelledby":"tableTitle",children:[(0,x.jsx)(z,{order:Y,onRequestSort:function(e,n){var t=n,r="desc";Y.id===n&&"desc"===Y.direction&&(r="asc"),H({direction:r,id:t})},rowCount:m.length}),(0,x.jsx)(v.Z,{children:Z.Z.orderBy(m,[function(e){return e[Y.id]}],[Y.direction]).slice(S*B,S*B+B).map((function(e){return(0,x.jsxs)(k.Z,{className:"h-72 cursor-pointer",hover:!0,children:[(0,x.jsx)(w.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:E()(e.created_at).format("DD-MM-YYYY")}),(0,x.jsx)(w.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.client_id}),(0,x.jsx)(w.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.business_name}),(0,x.jsx)(w.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.sku}),(0,x.jsx)(w.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.description}),(0,x.jsx)(w.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.qty})]},e.id)}))})]})}),(0,x.jsx)(y.Z,{className:"shrink-0 border-t-1",component:"div",count:m.length,rowsPerPage:B,page:S,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,n){_(n)},onRowsPerPageChange:function(e){I(e.target.value)}})]})}));var I=(0,s.Z)("canjesApp",i.Z)((function(){var e=(0,c.Z)((function(e){return e.breakpoints.down("lg")}));return(0,x.jsx)(a.Z,{header:(0,x.jsx)(m,{}),content:(0,x.jsx)(B,{}),scroll:e?"normal":"content"})}))},59569:function(e,n,t){t.d(n,{AK:function(){return f},Qg:function(){return Z},dW:function(){return g},f8:function(){return b},gp:function(){return p},lZ:function(){return j},r2:function(){return h}});var r,a=t(4942),s=t(74165),c=t(1413),i=t(15861),o=t(97744),l=t(45133),u=t.n(l),d=t(90326),p=(0,o.hg)("canjesApp/canje/addCanje",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("canjeData a guardar",n),e.next=4,u().post(d._n+d.pc+"/back/catalogs",(0,c.Z)({},n),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,console.log("dataaaaaa",a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),f=(0,o.hg)("canjesApp/canje/updateCanje",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("canjeData",n),e.next=4,u().put(d._n+d.pc+"/back/catalogs",(0,c.Z)({},n),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),h=(0,o.hg)("canjesApp/canje/removeCanje",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("deleteeeeeee",n),e.next=4,u().delete(d._n+d.pc+"/back/catalogs/".concat(n),{headers:{Authorization:d.o3}});case 4:return e.abrupt("return",id);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),x=(0,o.oM)({name:"canjesApp/canje",initialState:{canje:{sku:null,points:null}},reducers:{resetCanje:function(){return null},newCanje:{reducer:function(e,n){return n.payload},prepare:function(e){return{payload:{sku:null,points:null}}}},setCanje:{reducer:function(e,n){return n.payload}}},extraReducers:(r={},(0,a.Z)(r,p.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,f.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,h.fulfilled,(function(e,n){return n.payload})),r)}),m=x.actions,j=m.resetCanje,g=m.newCanje,Z=m.setCanje,b=function(e){return e.canjesApp.canje};n.ZP=x.reducer},6290:function(e,n,t){t.d(n,{R6:function(){return b},Xp:function(){return h},bv:function(){return j},kH:function(){return d},ng:function(){return p},vp:function(){return f},wE:function(){return Z}});var r,a=t(4942),s=t(74165),c=t(15861),i=t(97744),o=t(45133),l=t.n(o),u=t(90326),d=(0,i.hg)("canjesApp/getCanjes",(0,c.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/canjes/pedido",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return(t=e.sent).reverse(),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),p=(0,i.hg)("canjesApp/getVariables",(0,c.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/variables",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),f=(0,i.hg)("misionsApp/getBrands",(0,c.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/brands",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),h=(0,i.hg)("misionsApp/getProducts",(0,c.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/products",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),x=(0,i.HF)({}),m=x.getSelectors((function(e){return e.canjesApp.canjes})),j=m.selectAll,g=(m.selectById,(0,i.oM)({name:"canjesApp",initialState:x.getInitialState({searchText:"",variables:[]}),reducers:{setCanjesSearchText:{reducer:function(e,n){e.searchText=n.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,a.Z)(r,d.fulfilled,x.setAll),(0,a.Z)(r,p.fulfilled,(function(e,n){e.variables=n.payload})),r)})),Z=g.actions.setCanjesSearchText,b=function(e){return e.canjesApp.canjes.searchText};n.ZP=g.reducer},15642:function(e,n,t){var r=t(48028),a=t(6290),s=t(59569),c=(0,r.UY)({canjes:a.ZP,canje:s.ZP});n.Z=c}}]);
//# sourceMappingURL=9076.49fd4169.chunk.js.map