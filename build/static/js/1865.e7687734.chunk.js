"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[1865],{1865:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var a=n(50390),s=n(93938),r=n(54696),c=n(94001),o=n(17659),i=n(35477),l=n(95209),d=n(4743),p=n(82360),u=n(78317),m=n(62559);var x=function(e){return(0,d.I0)(),(0,d.v9)(u.TD),(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,m.jsx)(i.Z,{component:l.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Carga de Archivos"}),(0,m.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,m.jsx)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}}})," "]})]})},h=n(74165),f=n(15861),Z=n(29439),g=n(34062),v=n(41930),y=n(4182),j=n(35044),w=n(73481),b=n(29399),N=n(24115),C=n(52452),S=n(31588),_=n(10361),k=n(34758),A=n(58531),E=n(94187),P=n(77555),T=n(64604),U=[{id:"dest",align:"left",disablePadding:!1,label:"Destino",sort:!0},{id:"last",align:"left",disablePadding:!1,label:"Ultima Actualizacion",sort:!0},{id:"usr",align:"left",disablePadding:!1,label:"Usuario",sort:!0},{id:"carga",align:"center",disablePadding:!1,label:"Carga",sort:!0},{id:"type",align:"center",disablePadding:!1,label:"Tipo",sort:!0}];var R=function(e){return(0,m.jsx)(P.Z,{children:(0,m.jsx)(b.Z,{className:"h-48 sm:h-64",children:U.map((function(t){return(0,m.jsx)(w.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,T.$n)(e.palette.background.default,.4):(0,T.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:e.order.id===t.id&&e.order.direction,children:t.sort&&(0,m.jsx)(E.Z,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,m.jsx)(A.Z,{active:e.order.id===t.id,direction:e.order.direction,onClick:(n=t.id,function(t){e.onRequestSort(t,n)}),className:"font-semibold",children:t.label})})},t.id);var n}),this)})})},D=n(60606),I=n.n(D),M=n(5019),z=n(54982),F=n(78426),O=n(93085),H=n(25594),V=n(93693),Y=n(7887),$=n(43318),L=n(55199),K=n(37946),q=n(14476);var B=(0,N.Z)((function(e){var t=(0,d.I0)(),n=(0,d.v9)(u.jR),s=(0,S.cF)(),r=((0,_.s0)(),(0,d.v9)(u.TD)),c=(0,a.useState)(!0),o=(0,Z.Z)(c,2),x=o[0],N=o[1],A=(0,a.useState)(!1),E=(0,Z.Z)(A,2),P=E[0],T=E[1],U=(0,a.useState)(n),D=(0,Z.Z)(U,2),B=D[0],J=D[1],W=(0,a.useState)(0),X=(0,Z.Z)(W,2),G=(X[0],X[1]),Q=(0,d.v9)(k.dy),ee=(0,a.useState)(10),te=(0,Z.Z)(ee,2),ne=(te[0],te[1],(0,a.useState)({direction:"asc",id:null})),ae=(0,Z.Z)(ne,2),se=ae[0],re=ae[1],ce=(0,a.useState)(""),oe=(0,Z.Z)(ce,2),ie=oe[0],le=oe[1],de=(0,a.useState)(""),pe=(0,Z.Z)(de,2),ue=pe[0],me=pe[1],xe=(0,a.useState)(""),he=(0,Z.Z)(xe,2),fe=he[0],Ze=he[1],ge=(0,a.useState)(""),ve=(0,Z.Z)(ge,2),ye=(ve[0],ve[1],(0,a.useState)(!1)),je=(0,Z.Z)(ye,2),we=je[0],be=je[1],Ne=(0,a.useState)(""),Ce=(0,Z.Z)(Ne,2),Se=Ce[0],_e=Ce[1],ke=(0,a.useState)(""),Ae=(0,Z.Z)(ke,2),Ee=Ae[0],Pe=Ae[1],Te=(0,a.useState)({msg:"",alert:""}),Ue=(0,Z.Z)(Te,2),Re=Ue[0],De=Ue[1],Ie=(0,a.useState)({result:!1,text:""}),Me=(0,Z.Z)(Ie,2),ze=Me[0],Fe=Me[1],Oe=(0,a.useState)(""),He=(0,Z.Z)(Oe,2),Ve=He[0],Ye=He[1];K.Z[500],(0,a.useEffect)((function(){t((0,u.n7)()).then((function(e){})),t((0,u.pm)()).then((function(e){console.log("restpppp1111",e.payload);var t=e.payload.filter((function(e){return"venta_directa"===e.type})),n=e.payload.filter((function(e){return"venta_indirecta"===e.type}));console.log("ventaDirecta",t[0]),console.log("ventaDirecta",n[0]),le(t[0]),me(n[0]),N(!1)}))}),[t]),(0,a.useEffect)((function(){0!==r.length?(J(v.Z.filter(n,(function(e){return null!==e.type?e.type.toLowerCase().includes(r.toLowerCase()):null}))),G(0)):J(n)}),[n,r]);var $e=function(){be(!1),De({msg:"",alert:""}),_e(""),Pe(""),Ye(""),Ze("")},Le=function(){var e=(0,f.Z)((0,h.Z)().mark((function e(){var n,a,r,c;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),console.log("user",Q),!1,n={user_id:Q.id,file_name:Ve,url:"",type:""},a={type:"",user_id:Q.id,file_name:""},r="","CLIENTES"===Se&&(n.type="clients"),"PRODUCTOS"===Se&&(n.type="products"),"PREMIOS"===Se&&(n.type="prizes"),console.log("type",Se),console.log("secondType",Ee),"COMPRAS"!==Se){e.next=16;break}"directa"===Ee&&(n.type="direct",a.type="venta_directa",a.file_name=Ve,n.file_name=Ve,t((0,$.$E)(a)).then(function(){var e=(0,f.Z)((0,h.Z)().mark((function e(t){var a,c;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("resssss",t.payload.success),!t.payload.success){e.next=13;break}return console.log(" se guardo con exito"),a=(0,S.iH)(s,"files/sales/".concat(n.type,"/").concat(n.file_name)),c={contentType:"text/csv"},e.next=7,(0,S.KV)(a,fe,c);case 7:return e.next=9,(0,S.Jt)(a);case 9:r=e.sent,setTimeout((function(){window.location.reload()}),1e3),e.next=16;break;case 13:console.log("error",t.payload.res),Fe({result:!0,text:t.payload.res}),T(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),"indirecta"===Ee&&(n.type="indirect",a.type="venta_indirecta",a.file_name=Ve,n.file_name=Ve,t((0,$.$E)(a)).then(function(){var e=(0,f.Z)((0,h.Z)().mark((function e(t){var a,c;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.payload.success){e.next=12;break}return console.log(" se guardo con exito"),a=(0,S.iH)(s,"files/sales/".concat(n.type,"/").concat(n.file_name)),c={contentType:"text/csv"},e.next=6,(0,S.KV)(a,fe,c);case 6:return e.next=8,(0,S.Jt)(a);case 8:r=e.sent,setTimeout((function(){window.location.reload()}),1e3),e.next=15;break;case 12:console.log("error",t.payload.res),Fe({result:!0,text:t.payload.res}),T(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=23;break;case 16:return c=(0,S.iH)(s,"files/".concat(n.type,"/").concat(n.file_name)),e.next=19,(0,S.KV)(c,fe);case 19:return e.next=21,(0,S.Jt)(c);case 21:r=e.sent,console.log("downloadURL",r);case 23:n.url=r,Fe({result:!1,text:""});case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return x?(0,m.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,m.jsx)(C.Z,{})}):0===B.length?(0,m.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,m.jsx)(i.Z,{color:"text.secondary",variant:"h5",children:"No se encontraron Competencias"})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"w-full flex flex-col min-h-full",children:(0,m.jsx)(g.Z,{className:"grow overflow-x-auto",children:(0,m.jsxs)(y.Z,{stickyHeader:!0,className:"min-w-xl ","aria-labelledby":"tableTitle",children:[(0,m.jsx)(R,{order:se,onRequestSort:function(e,t){var n=t,a="desc";se.id===t&&"desc"===se.direction&&(a="asc"),re({direction:a,id:n})},rowCount:B.length}),(0,m.jsx)(j.Z,{children:(0,m.jsxs)(b.Z,{className:"h-100 cursor-pointer",hover:!0,children:[(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate font-semibold",children:"Actualizaci\xf3n CLIENTES (Maestro)"})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",width:"550px",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate ",children:"-"})}),(0,m.jsx)(w.Z,{className:"p-2 md:p-12 ",component:"th",scope:"row",width:"550px",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate ",display:"inline",children:"-"})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",align:"right",width:"50px",children:(0,m.jsxs)(M.Z,{variant:"contained",component:"label",style:{backgroundColor:K.Z[400]},children:["Cargar",(0,m.jsx)("input",{accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"hidden",id:"button-avatar",type:"file",disabled:!0,onChange:function(e){e.target.files[0]}})]})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",align:"center",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-12 truncate ",children:"Excel"})})]},1)}),(0,m.jsx)(j.Z,{children:(0,m.jsxs)(b.Z,{className:"h-72 cursor-pointer",hover:!0,children:[(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate font-semibold",children:"Actualizaci\xf3n PRODUCTOS (Maestro SKU)"})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",width:"550px",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate ",children:"-"})}),(0,m.jsx)(w.Z,{className:"p-2 md:p-12 ",component:"th",scope:"row",width:"550px",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate ",display:"inline",children:"-"})}),(0,m.jsxs)(w.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",align:"right",width:"50px",children:[(0,m.jsxs)(M.Z,{variant:"contained",component:"label",style:{backgroundColor:K.Z[400]},children:["Cargar",(0,m.jsx)("input",{accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"hidden",id:"button-avatar",type:"file",disabled:!0,onChange:function(e){e.target.files[0]}})]}),(0,m.jsx)(i.Z,{className:"text-14 sm:text-18 ml-10",children:""})]}),(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",align:"center",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-12 truncate ",children:"Excel"})})]},2)}),(0,m.jsx)(j.Z,{children:(0,m.jsxs)(b.Z,{className:"h-72 cursor-pointer",hover:!0,children:[(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate font-semibold",children:"Actualizaci\xf3n CATALOGO DE PREMIOS"})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",width:"550px",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate ",children:"-"})}),(0,m.jsx)(w.Z,{className:"p-2 md:p-12 ",component:"th",scope:"row",width:"550px",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate ",display:"inline",children:"-"})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",align:"right",width:"50px",children:(0,m.jsxs)(M.Z,{variant:"contained",component:"label",style:{backgroundColor:K.Z[400]},children:["Cargar",(0,m.jsx)("input",{accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"hidden",id:"button-avatar",type:"file",disabled:!0,onChange:function(e){e.target.files[0]}})]})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",align:"center",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-12 truncate ",children:"Excel"})})]},2)}),(0,m.jsx)(j.Z,{children:(0,m.jsxs)(b.Z,{className:"h-72 cursor-pointer",hover:!0,children:[(0,m.jsx)(w.Z,{className:"p-10 md:p-12 ",component:"th",scope:"row",style:{width:"500px"},children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate font-semibold",children:"Actualizaci\xf3n COMPRAS INDIRECTA"})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",width:"550px",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate ",display:"inline",children:I()(null===ue||void 0===ue?void 0:ue.updated_at).subtract(1,"hours").format("DD/MM/YYYY - HH:mm")})}),(0,m.jsx)(w.Z,{className:"p-2 md:p-12 ",component:"th",scope:"row",width:"550px",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate ",display:"inline",children:null===ue||void 0===ue?void 0:ue.user_id})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",align:"right",width:"50px",children:(0,m.jsx)(M.Z,{variant:"contained",component:"label",color:"primary",onClick:function(){Pe("indirecta"),_e("COMPRAS"),be(!0)},children:"Cargar"})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",align:"center",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-12 truncate ",children:"CSV"})})]},3)}),(0,m.jsx)(j.Z,{children:(0,m.jsxs)(b.Z,{className:"h-72 cursor-pointer",hover:!0,children:[(0,m.jsx)(w.Z,{className:"p-10 md:p-12 ",component:"th",scope:"row",style:{width:"500px"},children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate font-semibold",children:"Actualizaci\xf3n COMPRAS DIRECTA"})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",width:"550px",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate ",display:"inline",children:I()(null===ie||void 0===ie?void 0:ie.updated_at).subtract(1,"hours").format("DD/MM/YYYY - HH:mm")})}),(0,m.jsx)(w.Z,{className:"p-2 md:p-12 ",component:"th",scope:"row",width:"550px",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-18 truncate ",display:"inline",children:null===ie||void 0===ie?void 0:ie.user_id})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",align:"right",width:"50px",children:(0,m.jsx)(M.Z,{variant:"contained",component:"label",color:"primary",onClick:function(){Pe("directa"),_e("COMPRAS"),be(!0)},children:"Cargar"})}),(0,m.jsx)(w.Z,{className:"p-4 md:p-12 ",component:"th",scope:"row",align:"center",children:(0,m.jsx)(i.Z,{className:"text-12 sm:text-12 truncate ",children:"CSV"})})]},3)})]})})}),(0,m.jsxs)(z.Z,{open:we,onClose:$e,className:"lg",maxWidth:"lg",style:{height:"400px",minWidth:"500px"},children:[(0,m.jsxs)(F.Z,{sx:{m:2,p:2},children:["Carga de archivos para ",Se," ",Ee," "]}),(0,m.jsx)(O.Z,{style:{alignSelf:"center",height:"200px",width:"800px"},children:(0,m.jsxs)(H.ZP,{container:!0,padding:1,rowSpacing:1,columnSpacing:{xs:1,sm:1,md:1},justifyContent:"center",alignItems:"center",children:[(0,m.jsxs)(H.ZP,{item:!0,xs:4,md:12,style:{display:"flex"},justifyContent:"center",children:[!1===Re.alert?(0,m.jsx)(V.Z,{severity:"error",variant:"filled",className:" text-12 sm:text-12 truncate",children:Re.msg}):null,!0===ze.result&&(0,m.jsx)(V.Z,{severity:"error",variant:"filled",className:" text-12 sm:text-12 truncate",children:ze.text})]}),(0,m.jsx)(H.ZP,{item:!0,xs:4,md:12,style:{display:"flex"},justifyContent:"center",children:""===fe&&(0,m.jsxs)(M.Z,{variant:"contained",component:"label",color:"primary",className:"m-2",children:["Subir Archivo",(0,m.jsx)("input",{accept:".csv",className:"hidden",id:"button-avatar",type:"file",onChange:function(e){var t=e.target.files[0];if(console.log("file",t.size,4194304),t)if(t.size>4194304)De({msg:"El archivo no debe pesar mas de 4 MB",alert:!1});else{if(!t.name.toLowerCase().endsWith(".csv"))return De({msg:"El archivo no es de tipo CSV",alert:!1}),void console.log("Por favor, seleccione un archivo CSV.");De({msg:"",alert:""}),function(e,t){console.log("fileadd",e);var n=new FileReader;n.onload=function(){var t,a=e.name;if("directa"===Ee&&(t=/^(directa)_(0[1-9]|[1-2][0-9]|3[0-1])(0[1-9]|1[0-2])(2023|20[2-9][0-9])(_(0[1-9]|[1-2][0-9]|3[0-1])(0[1-9]|1[0-2])(2023|20[2-9][0-9]))?\.csv$/),"indirecta"===Ee&&(t=/^(indirecta)_(0[1-9]|[1-2][0-9]|3[0-1])(0[1-9]|1[0-2])(2023|20[2-9][0-9])(_(0[1-9]|[1-2][0-9]|3[0-1])(0[1-9]|1[0-2])(2023|20[2-9][0-9]))?\.csv$/),a.split("_"),!t.test(a))return De({msg:"El nombre de archivo no cumple con el formato esperado (tipo_ddmmyyyy.csv o tipo_ddmmyyyy_ddmmyyyy.csv)",alert:!1}),void console.log("El nombre de archivo no cumple con el formato esperado (tipo_ddmmyyyy.csv)");var s=n.result,r=L.ij(s,{type:"binary"}),c=r.Sheets[r.SheetNames[0]],o=L.P6.decode_range(c["!ref"]).e.r+1,i=["Franquicia","FemsaId","Fecha","SKU","CU"],l=L.P6.sheet_to_json(c,{header:1})[0].map((function(e){return e.toString()}));console.log("testing:, ",l),o>15e4?De({msg:"El archivo contiene mas de 150.000 registros",alert:!1}):l.length===i.length&&i.every((function(e,t){return e===l[t]}))?(console.log("El archivo es correcto"),Ye(e.name),Ze(e)):De({msg:"El archivo no cumple con las columnas esperadas (Franquicia, FemsaId, Fecha, SKU, CU)",alert:!1})},n.onerror=function(e){console.error("Error al leer el archivo:",e)},n.readAsBinaryString(e)}(t)}}})]})}),(0,m.jsx)(H.ZP,{item:!0,xs:4,md:12,style:{display:"flex"},justifyContent:"center",children:Ve?(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,m.jsxs)("span",{style:{backgroundColor:"#008000bf",padding:"8px",color:"white",borderRadius:"20px"},children:[" ",Ve," "]}),(0,m.jsx)("button",{onClick:function(){return Ze(""),Ye(""),void Fe({result:!1,text:""})},children:(0,m.jsx)(p.Z,{size:32,color:"error",children:"heroicons-outline:trash"})})]}):null})]})}),(0,m.jsxs)(Y.Z,{sx:{m:0,p:2},children:[(0,m.jsx)(q.Z,{loading:P,className:"whitespace-nowrap mx-4",variant:"contained",disabled:!Ve,color:"success",onClick:Le,children:"SUBIR"}),(0,m.jsx)(M.Z,{className:"whitespace-nowrap mx-4",variant:"outlined",color:"error",onClick:$e,children:"Cancelar"})]})]})]})}));var J=(0,r.Z)("uploadsApp",o.Z)((function(){var e=(0,c.Z)((function(e){return e.breakpoints.down("lg")}));return(0,m.jsx)(s.Z,{header:(0,m.jsx)(x,{}),content:(0,m.jsx)(B,{}),scroll:e?"normal":"content"})}))},17659:function(e,t,n){var a=n(48028),s=n(78317),r=n(43318),c=(0,a.UY)({uploads:s.ZP,upload:r.ZP});t.Z=c},43318:function(e,t,n){n.d(t,{$E:function(){return l},$l:function(){return h},VX:function(){return x},Xu:function(){return m},j0:function(){return u}});var a=n(74165),s=n(15861),r=n(97744),c=n(45133),o=n.n(c),i=n(90326),l=((0,r.hg)("uploadsApp/upload/addFile",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,n){var s,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("fileData",t),e.next=4,o().post(i._n+i.pc+"/back/files",t,{headers:{Authorization:i.o3}});case 4:return s=e.sent,e.next=7,s.data;case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,r.hg)("uploadsApp/upload/processFile",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,n){var s,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("fileData",t),e.next=4,o().post(i._n+i.pc+"/back/process/upload_file",t,{headers:{Authorization:i.o3}});case 4:return s=e.sent,e.next=7,s.data;case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),d=(0,r.oM)({name:"uploadsApp/upload",initialState:{upload:{enabled:!0}},reducers:{resetUpload:function(){return null},newUpload:{reducer:function(e,t){return t.payload},prepare:function(e){return{payload:{enabled:!0}}}},setUpload:{reducer:function(e,t){return t.payload}}}}),p=d.actions,u=p.resetUpload,m=p.newUpload,x=p.setUpload,h=function(e){return e.uploadsApp.upload};t.ZP=d.reducer},78317:function(e,t,n){n.d(t,{TD:function(){return g},jR:function(){return f},n7:function(){return p},pm:function(){return m}});var a,s=n(4942),r=n(74165),c=n(15861),o=n(97744),i=n(45133),l=n.n(i),d=n(90326),p=(0,o.hg)("uploadsApp/getUploads",(0,c.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(d._n+d.pc+"/back/competences",{headers:{Authorization:d.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),u=(0,o.hg)("uploadsApp/getVariables",(0,c.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(d._n+d.pc+"/back/competences/variables",{headers:{Authorization:d.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),m=(0,o.hg)("uploadsApp/getUploadedFiles",(0,c.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(d._n+d.pc+"/back/process/uploaded_files",{headers:{Authorization:d.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),x=(0,o.HF)({}),h=x.getSelectors((function(e){return e.uploadsApp.uploads})),f=h.selectAll,Z=(h.selectById,(0,o.oM)({name:"uploadsApp",initialState:x.getInitialState({searchText:"",variables:[]}),reducers:{setUploadsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(a={},(0,s.Z)(a,p.fulfilled,x.setAll),(0,s.Z)(a,u.fulfilled,(function(e,t){e.variables=t.payload})),(0,s.Z)(a,m.fulfilled,(function(e,t){e.variables=t.payload})),a)})),g=(Z.actions.setUploadsSearchText,function(e){return e.uploadsApp.uploads.searchText});t.ZP=Z.reducer}}]);
//# sourceMappingURL=1865.e7687734.chunk.js.map