"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[4654],{64654:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var r=t(50390),i=t(93938),a=t(54696),c=t(94001),s=t(36932),l=t(4930),o=t(46981),u=t(35477),d=t(95209),p=t(4743),f=t(82360),h=t(45519),x=t(62559);var m=function(e){var n=(0,p.I0)(),t=(0,p.v9)(h.sn);return(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,x.jsx)(u.Z,{component:d.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Clientes"}),(0,x.jsx)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:(0,x.jsxs)(o.Z,{component:d.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-6 px-12 rounded-full border-1 shadow-0",children:[(0,x.jsx)(f.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,x.jsx)(l.Z,{placeholder:"B\xfasqueda por nro. de Cliente",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return n((0,h.Gp)(e))}})]})})]})},Z=t(74165),g=t(1413),b=t(15861),v=t(29439),j=t(34062),y=t(41930),w=t(4182),k=t(35044),N=t(73481),C=t(29399),A=t(24115),S=t(52452),P=t(18851),_=t(50466),z=t(58531),E=t(94187),G=t(77555),T=t(64604),B=[{id:"id",align:"left",disablePadding:!1,label:"Nro. de Cliente",sort:!0},{id:"cuit",align:"left",disablePadding:!1,label:"Cuit",sort:!0},{id:"business_name",align:"left",disablePadding:!1,label:"Empresa",sort:!0},{id:"email",align:"left",disablePadding:!1,label:"Email",sort:!0},{id:"mobile",align:"left",disablePadding:!1,label:"Tel\xe9fono",sort:!0},{id:"enabled",align:"left",disablePadding:!1,label:"Habilitado",sort:!0},{id:"actions",align:"left",disablePadding:!1,label:"Accion",sort:!0}];var D=function(e){return(0,x.jsx)(G.Z,{children:(0,x.jsx)(C.Z,{className:"h-48 sm:h-64",children:B.map((function(n){return(0,x.jsx)(N.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,T.$n)(e.palette.background.default,.4):(0,T.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:n.align,padding:n.disablePadding?"none":"normal",sortDirection:e.order.id===n.id&&e.order.direction,children:n.sort&&(0,x.jsx)(E.Z,{title:"Sort",placement:"right"===n.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,x.jsx)(z.Z,{active:e.order.id===n.id,direction:e.order.direction,onClick:(t=n.id,function(n){e.onRequestSort(n,t)}),className:"font-semibold",children:n.label})})},n.id);var t}),this)})})},H=t(5019);var I=(0,A.Z)((function(e){var n=(0,p.I0)(),t=(0,p.v9)(h.GZ),i=(0,p.v9)(h.sn),a=(0,r.useState)(!0),c=(0,v.Z)(a,2),s=c[0],l=c[1],o=(0,r.useState)(t),m=(0,v.Z)(o,2),A=m[0],z=m[1],G=(0,r.useState)(0),T=(0,v.Z)(G,2),B=T[0],I=T[1],R=(0,r.useState)({direction:"asc",id:null}),q=(0,v.Z)(R,2),L=q[0],M=q[1];function U(){return(U=(0,b.Z)((0,Z.Z)().mark((function t(r){var i,a;return(0,Z.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((function(e,t){n((0,_.dl)(r.id)).then(e).catch(t)}));case 3:return i=t.sent,a=i.payload,t.next=7,e.navigate("view",{state:(0,g.Z)({},a)});case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return(0,r.useEffect)((function(){n((0,h.ZL)(B)).then((function(e){l(!1)}))}),[n,B]),(0,r.useEffect)((function(){0!==i.length?(z(y.Z.filter(t,(function(e){return null!==e.id?e.id.includes(i):null}))),I(0)):z(t)}),[t,i]),s?(0,x.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,x.jsx)(S.Z,{})}):0===A.length||0===Object.keys(A[0]).length?(0,x.jsx)(d.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,x.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"No hay clientes!"})}):(0,x.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,x.jsx)(j.Z,{className:"grow overflow-x-auto",children:(0,x.jsxs)(w.Z,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[(0,x.jsx)(D,{order:L,onRequestSort:function(e,n){var t=n,r="desc";L.id===n&&"desc"===L.direction&&(r="asc"),M({direction:r,id:t})},rowCount:A.length}),(0,x.jsx)(k.Z,{children:y.Z.orderBy(A,[function(e){return e[L.id]}],[L.direction]).map((function(e){return(0,x.jsxs)(C.Z,{className:"h-72 cursor-pointer",hover:!0,children:[(0,x.jsx)(N.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.id}),(0,x.jsx)(N.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.cuit}),(0,x.jsx)(N.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.business_name}),(0,x.jsx)(N.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.email}),(0,x.jsx)(N.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.mobile}),(0,x.jsx)(N.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.enabled?(0,x.jsx)(f.Z,{className:"text-green",size:20,children:"heroicons-outline:check-circle"}):(0,x.jsx)(f.Z,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"})}),(0,x.jsx)(N.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:(0,x.jsx)(E.Z,{title:"Ver",placement:"top",children:(0,x.jsx)(H.Z,{onClick:function(n){return function(e){return U.apply(this,arguments)}(e)},children:(0,x.jsx)(f.Z,{size:20,color:"action",children:"heroicons-outline:eye"})})})})]},e.id)}))})]})}),(0,x.jsxs)(P.Z,{sx:{width:200,alignSelf:"flex-end"},children:[(0,x.jsx)(H.Z,{disabled:B<=0,onClick:function(){I((function(e){return e-1}))},children:"Atras"}),(0,x.jsx)(H.Z,{disabled:i.length>0,onClick:function(){I((function(e){return e+1}))},children:"Siguiente"})]})]})}));t(97366);var R=(0,a.Z)("clientsApp",s.Z)((function(){var e=(0,c.Z)((function(e){return e.breakpoints.down("lg")}));return(0,x.jsx)(i.Z,{header:(0,x.jsx)(m,{}),content:(0,x.jsx)(I,{}),scroll:e?"normal":"content"})}))},50466:function(e,n,t){t.d(n,{dl:function(){return f},k0:function(){return m},kH:function(){return p},mB:function(){return x}});var r,i=t(4942),a=t(74165),c=t(15861),s=t(97744),l=t(45133),o=t.n(l),u=t(90326),d=(0,s.hg)("clientsApp/client/getClient",function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(u._n+u.Gn+"/back/clients/".concat(n),{headers:{Authorization:u.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",void 0===r?null:r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),p=(0,s.hg)("clientsApp/client/getCanjes",function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n){var t,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(u._n+u.pc+"/back/canjes/pedido",{headers:{Authorization:u.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,console.log("data",r),r.reverse(),i=r.filter((function(e){return e.client_id===n})),console.log("filteredData",i),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),f=(0,s.hg)("clientsApp/client/getClientData",function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(u._n+u.pc+"/back/clients/".concat(n),{headers:{Authorization:u.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,console.log("data",r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),h=(0,s.oM)({name:"clientsApp/client",initialState:null,reducers:{resetClient:function(){return null}},extraReducers:(r={},(0,i.Z)(r,d.fulfilled,(function(e,n){return n.payload})),(0,i.Z)(r,p.fulfilled,(function(e,n){return n.payload})),(0,i.Z)(r,f.fulfilled,(function(e,n){return n.payload})),r)}),x=h.actions.resetClient,m=function(e){return e.clientsApp.client};n.ZP=h.reducer},45519:function(e,n,t){t.d(n,{GZ:function(){return x},Gp:function(){return Z},ZL:function(){return d},sn:function(){return g}});var r,i=t(4942),a=t(74165),c=t(15861),s=t(97744),l=t(45133),o=t.n(l),u=t(90326),d=(0,s.hg)("clientsApp/getClients",function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(u._n+u.Gn+"/back/clients/pagination/".concat(n),{headers:{Authorization:u.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),p=(0,s.hg)("clientsApp/getVariables",(0,c.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(u._n+u.Gn+"/back/clients/variables",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),f=(0,s.HF)({}),h=f.getSelectors((function(e){return e.clientsApp.clients})),x=h.selectAll,m=(h.selectById,(0,s.oM)({name:"clientsApp",initialState:f.getInitialState({searchText:"",variables:[]}),reducers:{setClientsSearchText:{reducer:function(e,n){e.searchText=n.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,i.Z)(r,d.fulfilled,f.setAll),(0,i.Z)(r,p.fulfilled,(function(e,n){e.variables=n.payload})),r)})),Z=m.actions.setClientsSearchText,g=function(e){return e.clientsApp.clients.searchText};n.ZP=m.reducer},36932:function(e,n,t){var r=t(48028),i=t(45519),a=t(50466),c=(0,r.UY)({clients:i.ZP,client:a.ZP});n.Z=c}}]);
//# sourceMappingURL=4654.4449c7ca.chunk.js.map