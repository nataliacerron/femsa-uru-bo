"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[8630],{68630:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(50390),a=n(93938),i=n(54696),c=n(94001),s=n(99097),o=n(5019),l=n(4930),u=n(46981),d=n(35477),p=n(95209),f=n(4743),m=n(1314),h=n(82360),x=n(24649),Z=n(62559);var g=function(e){var t=(0,f.I0)(),n=(0,f.v9)(x.Ui);return(0,Z.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,Z.jsx)(d.Z,{component:p.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Competencias"}),(0,Z.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,Z.jsxs)(u.Z,{component:p.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,Z.jsx)(h.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,Z.jsx)(l.Z,{placeholder:"Busqueda de cupones",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:n,inputProps:{"aria-label":"Search"},onChange:function(e){return t((0,x.H5)(e))}})]}),(0,Z.jsx)(p.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,Z.jsx)(o.Z,{className:"",component:m.rU,to:"/tricampeons/new",variant:"contained",color:"secondary",startIcon:(0,Z.jsx)(h.Z,{children:"heroicons-outline:plus"}),children:"Agregar"})})," "]})]})},b=n(74165),v=n(1413),j=n(15861),w=n(29439),y=n(34062),k=n(41930),N=n(4182),_=n(35044),P=n(73481),A=n(1769),S=n(29399),T=n(24115),C=n(52452),D=n(58531),z=n(94187),Y=n(77555),E=n(64604),I=[{id:"image",align:"left",disablePadding:!1,label:"Imagen",sort:!0},{id:"name",align:"left",disablePadding:!1,label:"Nombre",sort:!0},{id:"start_date",align:"left",disablePadding:!1,label:"Desde",sort:!0},{id:"due_date",align:"left",disablePadding:!1,label:"Hasta",sort:!0},{id:"type",align:"left",disablePadding:!1,label:"Destinatario",sort:!0},{id:"enabled",align:"left",disablePadding:!1,label:"Habilitado",sort:!0},{id:"status",align:"left",disablePadding:!1,label:"Estado",sort:!0},{id:"buttons",align:"left",disablePadding:!1}];var H=function(e){return(0,Z.jsx)(Y.Z,{children:(0,Z.jsx)(S.Z,{className:"h-48 sm:h-64",children:I.map((function(t){return(0,Z.jsx)(P.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,E.$n)(e.palette.background.default,.4):(0,E.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:e.order.id===t.id&&e.order.direction,children:t.sort&&(0,Z.jsx)(z.Z,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,Z.jsx)(D.Z,{active:e.order.id===t.id,direction:e.order.direction,onClick:(n=t.id,function(t){e.onRequestSort(t,n)}),className:"font-semibold",children:t.label})})},t.id);var n}),this)})})},M=n(60606),U=n.n(M);var B=(0,T.Z)((function(e){var t=(0,f.I0)(),n=(0,f.v9)(x.hD),a=(0,f.v9)(x.Ui),i=(0,r.useState)(!0),c=(0,w.Z)(i,2),s=c[0],l=c[1],u=(0,r.useState)(n),m=(0,w.Z)(u,2),g=m[0],T=m[1],D=(0,r.useState)(0),Y=(0,w.Z)(D,2),E=Y[0],I=Y[1],M=(0,r.useState)(10),B=(0,w.Z)(M,2),F=B[0],R=B[1],q=(0,r.useState)({direction:"asc",id:null}),L=(0,w.Z)(q,2),V=L[0],$=L[1];function O(){return(O=(0,j.Z)((0,b.Z)().mark((function t(n){return(0,b.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.navigate("update",{state:(0,v.Z)({},n)});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(){return(W=(0,j.Z)((0,b.Z)().mark((function t(n){return(0,b.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.navigate("view",{state:(0,v.Z)({},n)});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.useEffect)((function(){t((0,x.Su)()).then((function(e){l(!1)}))}),[t]),(0,r.useEffect)((function(){0!==a.length?(T(k.Z.filter(n,(function(e){return null!==e.name?e.name.toLowerCase().includes(a.toLowerCase()):null}))),I(0)):T(n)}),[n,a]),s?(0,Z.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Z.jsx)(C.Z,{})}):0===g.length?(0,Z.jsx)(p.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,Z.jsx)(d.Z,{color:"text.secondary",variant:"h5",children:"No se encontraron Competencias"})}):(0,Z.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,Z.jsx)(y.Z,{className:"grow overflow-x-auto",children:(0,Z.jsxs)(N.Z,{stickyHeader:!0,className:"min-w-xl ","aria-labelledby":"tableTitle",children:[(0,Z.jsx)(H,{order:V,onRequestSort:function(e,t){var n=t,r="desc";V.id===t&&"desc"===V.direction&&(r="asc"),$({direction:r,id:n})},rowCount:g.length}),(0,Z.jsx)(_.Z,{children:k.Z.orderBy(g,[function(e){return e[V.id]}],[V.direction]).slice(E*F,E*F+F).map((function(e){return(0,Z.jsxs)(S.Z,{className:"h-72 cursor-pointer",hover:!0,children:[(0,Z.jsx)(P.Z,{component:"th",scope:"row",padding:"none",children:(0,Z.jsx)("img",{width:100,className:"rounded ml-10",src:e.image,alt:e.name,style:{objectFit:"contain",maxHeight:"60px"}})}),(0,Z.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.name}),(0,Z.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:U()(e.start_date).format("DD-MM-YYYY")}),(0,Z.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:U()(e.due_date).format("DD-MM-YYYY")}),(0,Z.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:"clients"===e.type?(0,Z.jsx)(Z.Fragment,{children:"Clientes"}):(0,Z.jsx)(Z.Fragment,{children:"Canal"})}),(0,Z.jsx)(P.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.enabled?(0,Z.jsx)(h.Z,{className:"text-green",size:20,children:"heroicons-outline:check-circle"}):(0,Z.jsx)(h.Z,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"})}),(0,Z.jsx)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.status}),(0,Z.jsxs)(P.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:[(0,Z.jsx)(z.Z,{title:"Ver",placement:"top",children:(0,Z.jsx)(o.Z,{onClick:function(t){return function(e){return W.apply(this,arguments)}(e)},children:(0,Z.jsx)(h.Z,{size:20,color:"action",children:"heroicons-outline:eye"})})}),(0,Z.jsx)(z.Z,{title:"Editar",placement:"top",children:(0,Z.jsx)(o.Z,{onClick:function(t){return function(e){return O.apply(this,arguments)}(e)},children:(0,Z.jsx)(h.Z,{size:20,color:"action",children:"heroicons-outline:pencil"})})}),(0,Z.jsx)(z.Z,{title:"Descargar",placement:"top",children:(0,Z.jsx)(o.Z,{children:(0,Z.jsx)(h.Z,{size:20,color:"action",children:"heroicons-outline:download"})})})]})]},e.id)}))})]})}),(0,Z.jsx)(A.Z,{className:"shrink-0 border-t-1",component:"div",count:g.length,rowsPerPage:F,page:E,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,t){I(t)},onRowsPerPageChange:function(e){R(e.target.value)}})]})}));var F=(0,i.Z)("tricampeonsApp",s.Z)((function(){var e=(0,c.Z)((function(e){return e.breakpoints.down("lg")}));return(0,Z.jsx)(a.Z,{header:(0,Z.jsx)(g,{}),content:(0,Z.jsx)(B,{}),scroll:e?"normal":"content"})}))},99097:function(e,t,n){var r=n(48028),a=n(24649),i=n(4033),c=(0,r.UY)({tricampeons:a.ZP,tricampeon:i.ZP});t.Z=c},4033:function(e,t,n){n.d(t,{N2:function(){return m},Nk:function(){return f},O1:function(){return p},b2:function(){return j},b8:function(){return h},uf:function(){return b},uh:function(){return g},up:function(){return v}});var r,a=n(4942),i=n(74165),c=n(1413),s=n(15861),o=n(97744),l=n(45133),u=n.n(l),d=n(90326),p=(0,o.hg)("tricampeonsApp/tricampeon/addTricampeon",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("tricampeonData a guardar",t),e.next=4,u().post(d._n+d.pc+"/back/competences",(0,c.Z)({},t),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,console.log("dataaaaaa",a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,o.hg)("tricampeonsApp/tricampeon/updateTricampeon",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("tricampeonData",t),e.next=4,u().put(d._n+d.pc+"/back/competences",(0,c.Z)({},t),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),m=(0,o.hg)("tricampeonsApp/tricampeon/addFile",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,e.next=3,u().post(d._n+d.pc+"/back/files",(0,c.Z)({},t),{headers:{Authorization:d.o3}});case 3:return r=e.sent,e.next=6,r.data;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=(0,o.hg)("tricampeonsApp/tricampeon/removeTricampeon",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("deleteeeeeee",t),e.next=4,u().delete(d._n+d.pc+"/back/competences/".concat(t),{headers:{Authorization:d.o3}});case 4:return e.abrupt("return",id);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x=(0,o.oM)({name:"tricampeonsApp/tricampeon",initialState:{tricampeon:{enabled:!0,name:"",type:"",start_date:"",due_date:"",terms:"",gift_1:"",gift_2:"",skus_1:"",skus_2:"",skus_3:"",skus_4:""}},reducers:{resetTricampeon:function(){return null},newTricampeon:{reducer:function(e,t){return t.payload},prepare:function(e){return{payload:{enabled:!0,name:"",type:"",start_date:"",due_date:"",terms:"",gift_1:"",gift_2:"",skus_1:"",skus_2:"",skus_3:"",skus_4:""}}}},setTricampeon:{reducer:function(e,t){return t.payload}}},extraReducers:(r={},(0,a.Z)(r,p.fulfilled,(function(e,t){return t.payload})),(0,a.Z)(r,f.fulfilled,(function(e,t){return t.payload})),(0,a.Z)(r,h.fulfilled,(function(e,t){return t.payload})),r)}),Z=x.actions,g=Z.resetTricampeon,b=Z.newTricampeon,v=Z.setTricampeon,j=function(e){return e.tricampeonsApp.tricampeon};t.ZP=x.reducer},24649:function(e,t,n){n.d(t,{H5:function(){return g},Su:function(){return d},Ui:function(){return b},Xp:function(){return f},hD:function(){return x}});var r,a=n(4942),i=n(74165),c=n(15861),s=n(97744),o=n(45133),l=n.n(o),u=n(90326),d=(0,s.hg)("tricampeonsApp/getTricampeons",(0,c.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/competences",{headers:{Authorization:u.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return(n=e.sent).reverse(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))),p=(0,s.hg)("tricampeonsApp/getVariables",(0,c.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/competences/variables",{headers:{Authorization:u.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),f=(0,s.hg)("tricampeonsApp/getProducts",(0,c.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/products",{headers:{Authorization:u.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),m=(0,s.HF)({}),h=m.getSelectors((function(e){return e.tricampeonsApp.tricampeons})),x=h.selectAll,Z=(h.selectById,(0,s.oM)({name:"tricampeonsApp",initialState:m.getInitialState({searchText:"",variables:[]}),reducers:{setTricampeonsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,a.Z)(r,d.fulfilled,m.setAll),(0,a.Z)(r,p.fulfilled,(function(e,t){e.variables=t.payload})),r)})),g=Z.actions.setTricampeonsSearchText,b=function(e){return e.tricampeonsApp.tricampeons.searchText};t.ZP=Z.reducer}}]);
//# sourceMappingURL=8630.0c0729a0.chunk.js.map