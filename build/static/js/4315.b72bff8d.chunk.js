"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[4315],{99097:function(e,t,n){var r=n(48028),a=n(24649),s=n(4033),i=(0,r.UY)({tricampeons:a.ZP,tricampeon:s.ZP});t.Z=i},4033:function(e,t,n){n.d(t,{N2:function(){return f},Nk:function(){return p},O1:function(){return m},b2:function(){return j},b8:function(){return x},uf:function(){return g},uh:function(){return Z},up:function(){return _}});var r,a=n(4942),s=n(74165),i=n(1413),o=n(15861),c=n(97744),l=n(45133),u=n.n(l),d=n(90326),m=(0,c.hg)("tricampeonsApp/tricampeon/addTricampeon",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("tricampeonData a guardar",t),e.next=4,u().post(d._n+d.pc+"/back/competences",(0,i.Z)({},t),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,console.log("dataaaaaa",a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=(0,c.hg)("tricampeonsApp/tricampeon/updateTricampeon",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("tricampeonData",t),e.next=4,u().put(d._n+d.pc+"/back/competences",(0,i.Z)({},t),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,c.hg)("tricampeonsApp/tricampeon/addFile",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,e.next=3,u().post(d._n+d.pc+"/back/files",(0,i.Z)({},t),{headers:{Authorization:d.o3}});case 3:return r=e.sent,e.next=6,r.data;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x=(0,c.hg)("tricampeonsApp/tricampeon/removeTricampeon",function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("deleteeeeeee",t),e.next=4,u().delete(d._n+d.pc+"/back/competences/".concat(t),{headers:{Authorization:d.o3}});case 4:return e.abrupt("return",id);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=(0,c.oM)({name:"tricampeonsApp/tricampeon",initialState:{tricampeon:{enabled:!0,name:"",type:"",start_date:"",due_date:"",terms:"",gift_1:"",gift_2:"",skus_1:"",skus_2:"",skus_3:"",skus_4:""}},reducers:{resetTricampeon:function(){return null},newTricampeon:{reducer:function(e,t){return t.payload},prepare:function(e){return{payload:{enabled:!0,name:"",type:"",start_date:"",due_date:"",terms:"",gift_1:"",gift_2:"",skus_1:"",skus_2:"",skus_3:"",skus_4:""}}}},setTricampeon:{reducer:function(e,t){return t.payload}}},extraReducers:(r={},(0,a.Z)(r,m.fulfilled,(function(e,t){return t.payload})),(0,a.Z)(r,p.fulfilled,(function(e,t){return t.payload})),(0,a.Z)(r,x.fulfilled,(function(e,t){return t.payload})),r)}),v=h.actions,Z=v.resetTricampeon,g=v.newTricampeon,_=v.setTricampeon,j=function(e){return e.tricampeonsApp.tricampeon};t.ZP=h.reducer},24649:function(e,t,n){n.d(t,{H5:function(){return Z},Su:function(){return d},Ui:function(){return g},Xp:function(){return p},hD:function(){return h}});var r,a=n(4942),s=n(74165),i=n(15861),o=n(97744),c=n(45133),l=n.n(c),u=n(90326),d=(0,o.hg)("tricampeonsApp/getTricampeons",(0,i.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/competences",{headers:{Authorization:u.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return(n=e.sent).reverse(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))),m=(0,o.hg)("tricampeonsApp/getVariables",(0,i.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/competences/variables",{headers:{Authorization:u.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),p=(0,o.hg)("tricampeonsApp/getProducts",(0,i.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/products",{headers:{Authorization:u.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),f=(0,o.HF)({}),x=f.getSelectors((function(e){return e.tricampeonsApp.tricampeons})),h=x.selectAll,v=(x.selectById,(0,o.oM)({name:"tricampeonsApp",initialState:f.getInitialState({searchText:"",variables:[]}),reducers:{setTricampeonsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,a.Z)(r,d.fulfilled,f.setAll),(0,a.Z)(r,m.fulfilled,(function(e,t){e.variables=t.payload})),r)})),Z=v.actions.setTricampeonsSearchText,g=function(e){return e.tricampeonsApp.tricampeons.searchText};t.ZP=v.reducer},54315:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(1413),a=n(29439),s=n(52452),i=n(41930),o=n(93938),c=n(54696),l=n(96763),u=n(35477),d=n(95209),m=n(5019),p=n(50390),f=n(4743),x=n(10361),h=n(1314),v=n(18369),Z=n(33383),g=n(49360),_=n(94001),j=n(4033),b=n(99097),k=n(74165),y=n(15861),w=n(88669),N=n(82360),C=n(93693),S=n(78449),P=n(31588),A=n(34758),q=n(14476),T=n(62586),D=n(41627),I=n(62559);var E=function(e){var t=e.params,n=(0,f.I0)(),r=(0,v.Gc)(),s=r.formState,o=r.watch,c=r.getValues,l=s.isValid,Z=s.dirtyFields,g=(0,w.Z)(),_=(0,x.s0)(),b=o("image"),E=(0,p.useState)({msg:"",alert:""}),V=(0,a.Z)(E,2),z=V[0],Q=V[1],B=(0,p.useState)(!1),W=(0,a.Z)(B,2),F=W[0],M=W[1],Y=o("status"),H=(0,p.useState)(),O=(0,a.Z)(H,2),R=O[0],K=O[1],U=(0,x.UO)().tricampeonId,G=(0,P.cF)(),L=((0,f.v9)(A.dy),o("file_id")),X=(0,p.useState)(!1),J=(0,a.Z)(X,2),$=J[0],ee=J[1],te=function(){var e=(0,y.Z)((0,k.Z)().mark((function e(){var t,r,a,s,i,o,l,u;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(t=c()).type&&(t.type="clients"),console.log("data a guardar: ",t),""!==t.name&&void 0!==t.image&&""!==t.start_date&&""!==t.due_date&&void 0!==t.file_id&&""!==t.terms&&""!==t.gift_1&&""!==t.gift_2&&""!==t.skus_1&&""!==t.skus_2&&""!==t.skus_3&&""!==t.skus_4){e.next=8;break}Q({msg:"Existen campos vac\xedos",alert:!1}),setTimeout((function(){ee(!1)}),1e3),e.next=41;break;case 8:if(""===t.type&&(t.type="clients"),"new"!==U){e.next=25;break}return r={user_id:"jose.bozzone",file_name:L.name,type:"competencia",url:""},t.skus_1=t.skus_1.split(/,\s*|\s+/),t.skus_2=t.skus_2.split(/,\s*|\s+/),t.skus_3=t.skus_3.split(/,\s*|\s+/),t.skus_4=t.skus_4.split(/,\s*|\s+/),a=(0,P.iH)(G,"files/competences/".concat(t.name)),e.next=18,(0,P.KV)(a,L);case 18:return e.next=20,n((0,j.N2)(r));case 20:s=e.sent,t.file_id=s.payload.res.id,(0,S.ni)(t,b).then((function(){n((0,j.O1)(t)).then((function(){_("/tricampeons")}))})),e.next=41;break;case 25:if(i=Object.fromEntries(Object.entries(t).filter((function(e){return"updated_at"!==e[0]}))),o={user_id:"jose.bozzone",file_name:L.name,type:"competencia",url:""},Array.isArray(i.skus_1)||(i.skus_1=i.skus_1.split(/,\s*|\s+/)),Array.isArray(i.skus_2)||(i.skus_2=i.skus_2.split(/,\s*|\s+/)),Array.isArray(i.skus_3)||(i.skus_3=i.skus_3.split(/,\s*|\s+/)),Array.isArray(i.skus_4)||(i.skus_4=i.skus_4.split(/,\s*|\s+/)),"number"===typeof L){e.next=39;break}return l=(0,P.iH)(G,"files/competences/".concat(t.name)),e.next=35,(0,P.KV)(l,L);case 35:return e.next=37,n((0,j.N2)(o));case 37:u=e.sent,i.file_id=u.payload.res.id;case 39:console.log("testttttttttttttt",i),b instanceof File?(0,S.ni)(i,b).then((function(){n((0,j.Nk)(i)).then((function(){_("/tricampeons")}))})):n((0,j.Nk)(i)).then((function(){_("/tricampeons")}));case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){if(void 0!==(null===b||void 0===b?void 0:b.name)){var e=new FileReader;e.addEventListener("load",(function(){K(e.result)})),e.readAsDataURL(b)}else K(b)}),[b]),(0,I.jsxs)("div",{className:"flex flex-col flex-1 w-full ",children:[(0,I.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,I.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,I.jsx)(d.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,I.jsxs)(u.Z,{className:"flex items-center sm:mb-12",component:h.rU,role:"button",to:"/tricampeons",color:"inherit",children:[(0,I.jsx)(N.Z,{size:20,children:"ltr"===g.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,I.jsx)("span",{className:"flex mx-4 font-medium",children:"Competencias"})]})}),(0,I.jsxs)("div",{className:"flex max-w-full",children:[(0,I.jsx)("div",{className:"flex relative ",children:(0,I.jsx)(d.E.div,{className:"hidden  sm:flex",initial:{scale:0},animate:{scale:1,transition:{delay:.3}},children:b?(0,I.jsx)("img",{width:150,src:R,style:{objectFit:"contain",maxHeight:"100px"}}):(0,I.jsx)("img",{width:200,style:{objectFit:"contain",maxHeight:"100px"},src:"assets/images/apps/ecommerce/product-image-placeholder.png"})})}),(0,I.jsxs)(d.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,I.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"new"===t?"Nueva Competencia":"update"===t?"Actualizar Competencia":"Vista de Competencia"}),(0,I.jsx)(u.Z,{variant:"caption",className:"font-medium",children:"Detalle de la Competencia"})]})]})]}),"view"!==U&&(0,I.jsxs)(d.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,I.jsx)(m.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){M(!0)},startIcon:(0,I.jsx)(N.Z,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Eliminar"}),(0,I.jsx)(D.Z,{open:F,title:"Confirmar Eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas eliminar esta Competencia?",onCancel:function(){M(!1)},onConfirm:function(){var e=c();n((0,j.b8)(e.id)).then((function(){_("/tricampeons")})),M(!1)}}),(0,I.jsx)(q.Z,{color:"secondary",onClick:function(){ee(!0),te()},loading:$,loadingPosition:"start",startIcon:(0,I.jsx)(T.Z,{}),variant:"contained",disabled:"new"===U?i.Z.isEmpty(Z)||!l:null,children:(0,I.jsx)("span",{children:"Guardar"})}),"update"===U&&"pendiente"===Y&&(0,I.jsx)(m.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"success",onClick:function(){var e=c();delete e.updated_at,e.status="publicado",console.log("data",e),n((0,j.Nk)(e)).then((function(e){"fulfilled"===e.meta.requestStatus&&Q(!0),"rejected"===e.meta.requestStatus&&Q(!1),_("/tricampeons")}))},startIcon:(0,I.jsx)(N.Z,{className:"hidden sm:flex",children:"heroicons-outline:upload"}),children:"Publicar"}),"update"===U&&"publicado"===Y&&(0,I.jsx)(m.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"error",onClick:function(){var e=c();delete e.updated_at,e.status="cancelado",n((0,j.Nk)(e)).then((function(e){"fulfilled"===e.meta.requestStatus&&Q(!0),"rejected"===e.meta.requestStatus&&Q(!1),_("/tricampeons")}))},startIcon:(0,I.jsx)(N.Z,{className:"hidden sm:flex",children:"heroicons-outline:x"}),children:"Cancelar"})]})]}),z.alert&&(0,I.jsx)(C.Z,{severity:"success",children:"Los datos se guardaron correctamente"}),!1===z.alert?(0,I.jsx)(C.Z,{severity:"error",children:z.msg}):null]})},V=n(12066),z=n(25594),Q=n(73413),B=n(67440),W=n(60606),F=n.n(W),M=n(24649);var Y=function(e){var t=e.params,n=(0,v.Gc)(),s=n.control,i=n.formState.errors,o=(0,f.I0)(),c=s._formValues,l=(c.id,c.name,c.type,c.start_date,c.due_date,c.image,c.channel,c.gec,c.file_id),d=(c.terms,c.enabled,c.bonus,c.point,c.gift_1,c.gift_2,c.skus_1,c.skus_2,c.skus_3,c.skus_4,(0,p.useState)("clients")),x=(0,a.Z)(d,2),h=(x[0],x[1]),Z=(0,p.useState)([]),g=(0,a.Z)(Z,2),_=(g[0],g[1]);return(0,p.useEffect)((function(){o((0,M.Xp)()).then((function(e){_(e.payload)}))}),[o]),(0,I.jsxs)("div",{className:"ml-10",children:[(0,I.jsxs)(z.ZP,{container:!0,padding:5,rowSpacing:2,columnSpacing:{xs:1,sm:1,md:3},children:[(0,I.jsxs)(z.ZP,{item:!0,xs:6,md:3,children:[(0,I.jsx)(u.Z,{className:"text-12 sm:text-14 truncate font-semibold",children:"Nombre"}),(0,I.jsx)(v.Qr,{name:"name",control:s,render:function(e){var n,a=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({required:!0,error:!!i.name,helperText:null===i||void 0===i||null===(n=i.name)||void 0===n?void 0:n.message},a),{},{value:a.value||"",placeholder:"Ingrese Nombre",autoFocus:!0,id:"name",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,I.jsxs)(z.ZP,{item:!0,xs:6,md:2,children:[(0,I.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Desde"}),(0,I.jsx)(v.Qr,{name:"start_date",control:s,render:function(e){var n=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({},n),{},{type:"date",required:!0,value:n.value?F()(n.value).format("YYYY-MM-DD"):"",id:"start_date",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,I.jsxs)(z.ZP,{item:!0,xs:6,md:2,children:[(0,I.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Hasta"}),(0,I.jsx)(v.Qr,{name:"due_date",control:s,render:function(e){var n=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({},n),{},{required:!0,type:"date",value:n.value?F()(n.value).format("YYYY-MM-DD"):"",id:"due_name",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,I.jsxs)(z.ZP,{item:!0,xs:4,md:2,children:[(0,I.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Destinatarios"}),(0,I.jsx)(v.Qr,{name:"type",control:s,defaultValue:"clients",render:function(e){var n=e.field;return(0,I.jsxs)(Q.Z,(0,r.Z)((0,r.Z)({},n),{},{value:n.value||"clients",exclusive:!0,onChange:function(e,t){n.onChange(t),function(e,t){h(t)}(0,t)},"aria-label":"channel or client",id:"type",disabled:"view"===t,children:[(0,I.jsx)(B.Z,{value:"channel","aria-label":"channel",children:"Canal"}),(0,I.jsx)(B.Z,{value:"clients","aria-label":"clients",children:"Cliente"})]}))}})]}),(0,I.jsxs)(z.ZP,{item:!0,xs:4,md:2,children:[(0,I.jsx)(u.Z,{className:"text-14 sm:text-14 truncate font-semibold",children:"Excel"}),(0,I.jsx)(v.Qr,{name:"file_id",control:s,render:function(e){var n=e.field,r=n.onChange;n.value;return(0,I.jsxs)("div",{className:"mt-8 mb-16 flex flex-row  items-center",children:[(0,I.jsxs)(m.Z,{variant:"contained",component:"label",color:"primary",children:["Cargar",(0,I.jsx)("input",{accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"hidden",id:"button-avatar",type:"file",disabled:"view"===t,onChange:function(e){var t=e.target.files[0];t&&r(t)}})]}),(0,I.jsx)(u.Z,{className:"text-14 sm:text-10 ml-10",children:(null===l||void 0===l?void 0:l.name)||""})]})}})]})]}),(0,I.jsxs)(z.ZP,{container:!0,padding:5,rowSpacing:2,columnSpacing:{xs:1,sm:1,md:3},children:[(0,I.jsxs)(z.ZP,{item:!0,xs:6,md:3,children:[(0,I.jsx)(u.Z,{className:"text-12 sm:text-14 truncate font-semibold",children:"Premio 1"}),(0,I.jsx)(v.Qr,{name:"gift_1",control:s,render:function(e){var n,a=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({required:!0,error:!!i.gift_1,helperText:null===i||void 0===i||null===(n=i.gift_1)||void 0===n?void 0:n.message},a),{},{value:a.value||"",placeholder:"Ingrese Premio",id:"gift_1",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,I.jsxs)(z.ZP,{item:!0,xs:6,md:3,children:[(0,I.jsx)(u.Z,{className:"text-12 sm:text-14 truncate font-semibold",children:"Premio 2"}),(0,I.jsx)(v.Qr,{name:"gift_2",control:s,render:function(e){var n,a=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({required:!0,error:!!i.gift_2,helperText:null===i||void 0===i||null===(n=i.gift_2)||void 0===n?void 0:n.message},a),{},{value:a.value||"",placeholder:"Ingrese Premio",id:"gift_2",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,I.jsxs)(z.ZP,{item:!0,xs:6,md:2,children:[(0,I.jsx)(u.Z,{className:"text-12 sm:text-14 truncate font-semibold",children:"Puntos"}),(0,I.jsx)(v.Qr,{name:"points",control:s,render:function(e){var n,a=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({required:!0,error:!!i.points,helperText:null===i||void 0===i||null===(n=i.points)||void 0===n?void 0:n.message},a),{},{value:a.value||"",placeholder:"Ingrese Puntos",id:"points",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,I.jsxs)(z.ZP,{item:!0,xs:6,md:2,children:[(0,I.jsx)(u.Z,{className:"text-12 sm:text-14 truncate font-semibold",children:"Bonus"}),(0,I.jsx)(v.Qr,{name:"bonus",control:s,render:function(e){var n,a=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({required:!0,error:!!i.bonus,helperText:null===i||void 0===i||null===(n=i.bonus)||void 0===n?void 0:n.message},a),{},{value:a.value||"",placeholder:"Ingrese Bonus",id:"bonus",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]})]}),(0,I.jsxs)(z.ZP,{container:!0,padding:5,rowSpacing:2,columnSpacing:{xs:1,sm:1,md:3},children:[(0,I.jsxs)(z.ZP,{item:!0,xs:4,md:12,children:[(0,I.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Variables 1"}),(0,I.jsx)(v.Qr,{name:"skus_1",control:s,render:function(e){var n,a=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({required:!0,error:!!i.skus_1,helperText:null===i||void 0===i||null===(n=i.skus_1)||void 0===n?void 0:n.message},a),{},{value:a.value||"",placeholder:"1234, 1234, 1234",id:"skus_1",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,I.jsxs)(z.ZP,{item:!0,xs:4,md:12,children:[(0,I.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Variables 2"}),(0,I.jsx)(v.Qr,{name:"skus_2",control:s,render:function(e){var n,a=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({required:!0,error:!!i.skus_2,helperText:null===i||void 0===i||null===(n=i.skus_2)||void 0===n?void 0:n.message},a),{},{value:a.value||"",placeholder:"1234, 1234, 1234",id:"skus_2",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,I.jsxs)(z.ZP,{item:!0,xs:4,md:12,children:[(0,I.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Variables 3"}),(0,I.jsx)(v.Qr,{name:"skus_3",control:s,render:function(e){var n,a=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({required:!0,error:!!i.skus_3,helperText:null===i||void 0===i||null===(n=i.skus_3)||void 0===n?void 0:n.message},a),{},{value:a.value||"",placeholder:"1234, 1234, 1234",id:"skus_3",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,I.jsxs)(z.ZP,{item:!0,xs:4,md:12,children:[(0,I.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Variables 4"}),(0,I.jsx)(v.Qr,{name:"skus_4",control:s,render:function(e){var n,a=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({required:!0,error:!!i.skus_4,helperText:null===i||void 0===i||null===(n=i.skus_4)||void 0===n?void 0:n.message},a),{},{value:a.value||"",placeholder:"1234, 1234, 1234",id:"skus_4",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]})]}),(0,I.jsx)(z.ZP,{container:!0,padding:5,rowSpacing:2,columnSpacing:{xs:1,sm:1,md:3},children:(0,I.jsxs)(z.ZP,{item:!0,xs:4,md:3,children:[(0,I.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Imagen Encabezado"}),(0,I.jsx)(v.Qr,{name:"image",control:s,render:function(e){var n=e.field,r=n.onChange;n.value;return(0,I.jsxs)(m.Z,{variant:"contained",component:"label",color:"primary",children:["Cargar imagen",(0,I.jsx)("input",{accept:"image/*",className:"hidden",id:"button-avatar",type:"file",disabled:"view"===t,onChange:function(e){var t=e.target.files[0];t&&r(t)}})]})}})]})}),(0,I.jsx)(z.ZP,{container:!0,padding:5,rowSpacing:2,columnSpacing:{xs:1,sm:1,md:3},children:(0,I.jsxs)(z.ZP,{item:!0,xs:6,md:12,children:[(0,I.jsx)(u.Z,{className:"text-16 sm:text-14 truncate font-semibold",children:"Reglamento y Legales"}),(0,I.jsx)(v.Qr,{name:"terms",control:s,render:function(e){var n=e.field;return(0,I.jsx)(V.Z,(0,r.Z)((0,r.Z)({},n),{},{required:!0,id:"terms",variant:"outlined",fullWidth:!0,placeholder:"Ingrese el Reglamento",multiline:!0,rows:5,disabled:"view"===t}))}})]})})]})},H=g.Ry().shape({start_date:g.Z_().required("Debe seleccionar un GEC"),due_date:g.Z_().required("Debe seleccionar un Ano"),name:g.Z_().required("Debe ingresar un Nombre"),type:g.Z_().required("Debe seleccionar un Destinatario"),gift_1:g.Z_().required("Debe ingresar un premio"),gift_2:g.Z_().required("Debe ingresar un premio"),skus_1:g.Z_().required("Debe ingresar un premio"),skus_2:g.Z_().required("Debe ingresar un premio"),skus_3:g.Z_().required("Debe ingresar un premio"),skus_4:g.Z_().required("Debe ingresar un premio"),points:g.Z_().required("Debe ingresar un premio"),bonus:g.Z_().required("Debe ingresar un premio"),image:g.nK().test("required","You need to provide a file",(function(e){return e&&e.size}))});var O=(0,c.Z)("tricampeonsApp",b.Z)((function(e){var t=(0,f.I0)(),n=(0,f.v9)(j.b2),c=(0,_.Z)((function(e){return e.breakpoints.down("lg")})),g=(0,x.UO)(),b=(0,p.useState)(!1),k=(0,a.Z)(b,2),y=k[0],w=k[1],N=(0,v.cI)({mode:"onChange",defaultValues:{enabled:!0,name:"",type:"",start_date:"",due_date:"",terms:"",gift_1:"",gift_2:"",skus_1:"",skus_2:"",skus_3:"",skus_4:""},resolver:(0,Z.X)(H)}),C=N.reset,S=N.watch,P=(N.control,N.onChange,N.formState,S()),A=(0,x.TH)();return(0,l.KW)((function(){!function(){var e=g.tricampeonId;t("new"===e?(0,j.uf)():(0,j.up)(A.state))}()}),[t,g,A]),(0,p.useEffect)((function(){n&&C(n)}),[n,C]),(0,p.useEffect)((function(){return function(){t((0,j.uh)()),w(!1)}}),[t]),y?(0,I.jsxs)(d.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,I.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"No hay Competencias"}),(0,I.jsx)(m.Z,{className:"mt-24",component:h.rU,variant:"outlined",to:"/tricampeons",color:"inherit",children:"Volver a Competencias"})]}):i.Z.isEmpty(P)||n&&g.tricampeonId!==n.id&&"new"!==g.tricampeonId&&"update"!==g.tricampeonId&&"view"!==g.tricampeonId?(0,I.jsx)(s.Z,{}):(0,I.jsx)(v.RV,(0,r.Z)((0,r.Z)({},N),{},{children:(0,I.jsx)(o.Z,{header:(0,I.jsx)(E,{params:g.tricampeonId}),content:(0,I.jsx)(Y,{params:g.tricampeonId}),scroll:c?"normal":"content"})}))}))},41627:function(e,t,n){n(50390);var r=n(54982),a=n(78426),s=n(93085),i=n(7887),o=n(5019),c=n(62559);t.Z=function(e){var t=e.open,n=e.title,l=e.message,u=e.onCancel,d=e.onConfirm;return(0,c.jsxs)(r.Z,{open:t,onClose:u,children:[(0,c.jsx)(a.Z,{children:n}),(0,c.jsx)(s.Z,{children:l}),(0,c.jsxs)(i.Z,{children:[(0,c.jsx)(o.Z,{onClick:u,children:"Cancelar"}),(0,c.jsx)(o.Z,{onClick:d,color:"error",children:"Eliminar"})]})]})}},78449:function(e,t,n){n.d(t,{DB:function(){return c},ni:function(){return l},sS:function(){return u},wf:function(){return o}});var r=n(74165),a=n(15861),s=n(31588),i=n(26759),o=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;return[e.getDate(),n,t].join("_")},c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.entries(t).map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("img_brief"!==n[0]&&"img_description"!==n[0]||!n[1].name){e.next=8;break}return a=o(),c=(0,s.iH)(i.tO,"coupons/".concat(n[1].name+"_"+a)),e.next=5,(0,s.KV)(c,n[1]);case 5:return e.next=7,(0,s.Jt)(c);case 7:t[n[0]]=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.name){e.next=8;break}return a=o(),c=(0,s.iH)(i.tO,"sliders/".concat(n.name+"_"+a)),e.next=5,(0,s.KV)(c,n);case 5:return e.next=7,(0,s.Jt)(c);case 7:t.image=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(e,t){if(0==e)return"0 Bytes";var n=t||2,r=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}}}]);
//# sourceMappingURL=4315.b72bff8d.chunk.js.map