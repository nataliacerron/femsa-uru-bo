(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[184],{10184:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r=n(1413),c=n(29439),a=n(52452),i=n(41930),o=n(93938),s=n(54696),u=n(96763),l=n(35477),d=n(95209),h=n(5019),f=n(50390),m=n(4743),p=n(10361),x=n(1314),v=n(18369),Z=n(33383),g=n(49360),k=n(94001),P=n(67132),j=n(81377),w=n(88669),b=n(82360),y=n(93693),C=n(78449),_=n(14476),N=n(62586),S=n(62559);var I=function(e){var t=(0,v.Gc)(),n=t.formState,r=t.watch,a=t.getValues,o=n.isValid,s=n.dirtyFields,u=(0,w.Z)(),Z=r("img"),g=r("channel"),k=(0,f.useState)({msg:"",alert:""}),j=(0,c.Z)(k,2),I=j[0],A=j[1],E=(0,f.useState)(),V=(0,c.Z)(E,2),D=(V[0],V[1],(0,p.UO)()),M=(0,m.I0)(),q=(0,p.s0)(),z=D.checkPhotoId,B=(0,f.useState)(!1),F=(0,c.Z)(B,2),T=F[0],G=F[1];return(0,S.jsxs)("div",{className:"flex flex-col flex-1 w-full ",children:[(0,S.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,S.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,S.jsx)(d.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,S.jsxs)(l.Z,{className:"flex items-center sm:mb-12",component:x.rU,role:"button",to:"/checkPhotos",color:"inherit",children:[(0,S.jsx)(b.Z,{size:20,children:"ltr"===u.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,S.jsx)("span",{className:"flex mx-4 font-medium",children:"CheckPhotoes"})]})}),(0,S.jsx)("div",{className:"flex items-center max-w-full",children:(0,S.jsxs)(d.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,S.jsxs)(l.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:[console.log("name",g),"updated"===z?"Actualizar Notificaci\xf3n":"new"===z?"Nueva Notificaci\xf3n":"Ver Notificaci\xf3n"]}),(0,S.jsx)(l.Z,{variant:"caption",className:"font-medium",children:"Detalle de la Notificaci\xf3n"})]})})]}),"view"!==z&&(0,S.jsxs)(d.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,S.jsx)(h.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){var e=a();M((0,P.Em)(e.id)).then((function(){q("/checkPhotos")}))},startIcon:(0,S.jsx)(b.Z,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Eliminar"}),(0,S.jsx)(_.Z,{color:"secondary",onClick:function(){!function(){var e=a();console.log("data",e),"0"===e.channel||"0"===e.gec||""===e.title||null===e.description||null===e.date_due||null===e.img?A({msg:"Existen campos vac\xedos",alert:!1}):(console.log("checkPhotoId",z),"new"===z?(0,C.ni)(e,Z).then((function(){e.img=e.image,delete e.image,console.log("data1",e),M((0,P.iI)(e)).then((function(){G(!1),q("/checkPhotos")}))})):(delete e.updated_at,"string"===typeof Z?(e.img=Z,M((0,P.$K)(e)).then((function(e){"fulfilled"===e.meta.requestStatus&&q("/checkPhotos"),"rejected"===e.meta.requestStatus&&A(!1),G(!1)}))):(0,C.ni)(e,Z).then((function(){e.img=e.image,delete e.image,M((0,P.$K)(e)).then((function(e){"fulfilled"===e.meta.requestStatus&&q("/checkPhotos"),"rejected"===e.meta.requestStatus&&A(!1),G(!1)}))}))))}(),G(!0)},loading:T,loadingPosition:"start",startIcon:(0,S.jsx)(N.Z,{}),variant:"contained",disabled:"new"===z?i.Z.isEmpty(s)||!o:null,children:(0,S.jsx)("span",{children:"Guardar"})})]})]}),I.alert&&(0,S.jsx)(y.Z,{severity:"success",children:"Los datos se guardaron correctamente"}),!1===I.alert?(0,S.jsx)(y.Z,{severity:"error",children:I.msg}):null]})},A=n(12066),E=n(25594),V=n(43965),D=n(31680),M=n(49056),q=n(92946),z=n(60606),B=n.n(z);var F=function(e){var t=e.params,n=(0,v.Gc)(),a=n.control,i=(n.formState.errors,(0,m.I0)()),o=a._formValues,s=o.id,u=(o.title,o.img),d=(o.channel,o.gec),p=(0,f.useState)(),x=(0,c.Z)(p,2),Z=x[0],g=x[1],k=(0,f.useState)(),P=(0,c.Z)(k,2),j=P[0],w=P[1],b=(0,f.useState)(u),y=(0,c.Z)(b,2),C=y[0],_=y[1];return(0,f.useEffect)((function(){i((0,q.ng)()).then((function(e){g(e.payload.channels)}))}),[i]),(0,f.useEffect)((function(){u&&_(u)}),[s]),(0,f.useEffect)((function(){if(a._formValues.channel&&Z.length>=1){var e=Z.find((function(e){return e.canal===a._formValues.channel}));console.log("gec",d),w(e.gec)}}),[Z]),(0,S.jsxs)("div",{children:[(0,S.jsxs)(E.ZP,{container:!0,padding:5,rowSpacing:4,columnSpacing:{xs:1,sm:1,md:2},alignItems:"center",children:[(0,S.jsxs)(E.ZP,{item:!0,xs:6,md:4,children:[(0,S.jsx)(l.Z,{className:"text-14 sm:text-16 truncate font-semibold",children:"Titulo"}),(0,S.jsx)(v.Qr,{name:"title",control:a,render:function(e){var n=e.field;return(0,S.jsx)(A.Z,(0,r.Z)((0,r.Z)({required:!0},n),{},{autoFocus:!0,placeholder:"Ingrese el Nombre",id:"title",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,S.jsxs)(E.ZP,{item:!0,xs:4,md:2,children:[(0,S.jsx)(l.Z,{className:"text-14 sm:text-16 truncate font-semibold",children:"Vencimiento"}),(0,S.jsx)(v.Qr,{name:"due_date",control:a,render:function(e){var n=e.field;return(0,S.jsx)(A.Z,(0,r.Z)((0,r.Z)({},n),{},{type:"date",value:n.value?B()(n.value).format("YYYY-MM-DD"):"",id:"due_name",variant:"outlined",fullWidth:!0,disabled:"view"===t}))}})]}),(0,S.jsxs)(E.ZP,{item:!0,xs:4,md:2,children:[(0,S.jsx)(l.Z,{className:"text-16 sm:text-16 truncate font-semibold",children:"Canal"}),(0,S.jsx)(v.Qr,{name:"channel",control:a,render:function(e){var n=e.field;return(0,S.jsxs)(V.Z,(0,r.Z)((0,r.Z)({},n),{},{id:"channel",value:n.value||0,variant:"outlined",fullWidth:!0,disabled:"view"===t,onChange:function(e){var t=e.target.value;n.onChange(t),function(e){var t=Z.find((function(t){return t.canal===e.target.value}));w(t.gec)}(e)},children:[(0,S.jsx)(D.Z,{value:0,children:" Seleccione un Canal"}),null===Z||void 0===Z?void 0:Z.map((function(e,t){return(0,S.jsxs)(D.Z,{value:e.canal,children:[" ",e.canal]},t)}))]}))}})]}),(0,S.jsxs)(E.ZP,{item:!0,xs:4,md:2,children:[(0,S.jsx)(l.Z,{className:"text-16 sm:text-16 truncate font-semibold",children:"GEC"}),(0,S.jsx)(v.Qr,{name:"gec",control:a,render:function(e){var n=e.field;return(0,S.jsxs)(V.Z,(0,r.Z)((0,r.Z)({},n),{},{id:"gec",value:n.value||0,variant:"outlined",fullWidth:!0,disabled:"view"===t,children:[(0,S.jsx)(D.Z,{value:0,children:" Seleccione un GEC"}),null===j||void 0===j?void 0:j.map((function(e,t){return(0,S.jsxs)(D.Z,{value:e,children:[" ",e]},t)}))]}))}})]}),"new"!==t?(0,S.jsx)(E.ZP,{item:!0,xs:6,md:2,children:(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{style:{marginLeft:10},children:"Habilitar"}),(0,S.jsx)(v.Qr,{name:"enabled",control:a,render:function(e){var n=e.field;return(0,S.jsx)(M.Z,{onChange:function(e){return n.onChange(e.target.checked)},disabled:"view"===t,checked:n.value})}})]})}):null]}),(0,S.jsxs)(E.ZP,{container:!0,padding:4,rowSpacing:5,columnSpacing:{xs:1,sm:1,md:4},alignItems:"center",children:[(0,S.jsxs)(E.ZP,{item:!0,xs:4,md:5,children:[(0,S.jsx)(l.Z,{className:"text-14 sm:text-16 truncate font-semibold",children:"Descripcion"}),(0,S.jsx)(v.Qr,{name:"description",control:a,render:function(e){var n=e.field;return(0,S.jsx)(A.Z,(0,r.Z)((0,r.Z)({required:!0},n),{},{placeholder:"Ingrese la Descripcion",id:"description",variant:"outlined",fullWidth:!0,multiline:!0,rows:3,disabled:"view"===t}))}})]}),"view"!==t&&(0,S.jsxs)(E.ZP,{item:!0,xs:6,md:2,textAlign:"center",children:[(0,S.jsx)(l.Z,{className:"mb-5 text-14 sm:text-16 truncate font-semibold",children:"Imagen"}),(0,S.jsx)(v.Qr,{name:"img",control:a,render:function(e){var t=e.field,n=t.onChange;t.value;return(0,S.jsxs)(h.Z,{variant:"contained",component:"label",color:"primary",children:["Cargar Imagen",(0,S.jsx)("input",{accept:"image/*",className:"hidden",id:"button-avatar",type:"file",onChange:function(e){var t=e.target.files[0];t&&(n(t),function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(){_(n.result)},n.readAsDataURL(t)}(e))}})]})}})]}),(0,S.jsx)(E.ZP,{item:!0,xs:6,md:2,textAlign:"center",children:(0,S.jsx)("img",{width:"90%",className:"rounded",src:C})})]})]})},T=g.Ry().shape({channel:g.Z_().required("Debe seleccionar un Canal"),gec:g.Z_().required("Debe seleccionar un GEC"),due_date:g.Z_().required("Debe seleccionar ingresar una Fecha de Vencimiento"),title:g.Z_().required("Debe ingresar un Titulo"),description:g.Z_().required("Debe ingresar una Descripcion"),img:g.nK().test("required","You need to provide a file",(function(e){return e&&e.size}))});var G=(0,s.Z)("checkPhotosApp",j.Z)((function(e){var t=(0,m.I0)(),n=(0,m.v9)(P.V9),s=(0,k.Z)((function(e){return e.breakpoints.down("lg")})),g=(0,p.UO)(),j=(0,f.useState)(!1),w=(0,c.Z)(j,2),b=w[0],y=w[1],C=(0,v.cI)({mode:"onChange",defaultValues:{img:"",channel:"",gec:"",title:"",description:""},resolver:(0,Z.X)(T)});console.log("checkPhoto;",n);var _=C.reset,N=C.watch,A=(C.control,C.onChange,C.formState,N()),E=(0,p.TH)();return(0,u.KW)((function(){!function(){var e=g.checkPhotoId;t("new"===e?(0,P.AK)():(0,P.ni)(E.state))}()}),[t,g,E]),(0,f.useEffect)((function(){n&&_(n)}),[n,_]),(0,f.useEffect)((function(){return function(){t((0,P.QI)()),y(!1)}}),[t]),b?(0,S.jsxs)(d.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,S.jsx)(l.Z,{color:"text.secondary",variant:"h5",children:"No hay Notificacion!"}),(0,S.jsx)(h.Z,{className:"mt-24",component:x.rU,variant:"outlined",to:"/checkPhotos",color:"inherit",children:"Volver a CheckPhotoes"})]}):i.Z.isEmpty(A)||n&&g.checkPhotoId!==n.id&&"new"!==g.checkPhotoId&&"update"!==g.checkPhotoId&&"view"!==g.checkPhotoId?(0,S.jsx)(a.Z,{}):(0,S.jsx)(v.RV,(0,r.Z)((0,r.Z)({},C),{},{children:(0,S.jsx)(o.Z,{header:(0,S.jsx)(I,{params:g.checkPhotoId}),content:(0,S.jsx)(F,{params:g.checkPhotoId}),scroll:s?"normal":"content"})}))}))},67132:function(e,t,n){"use strict";n.d(t,{$K:function(){return h},AK:function(){return v},Em:function(){return f},QI:function(){return x},V9:function(){return g},iI:function(){return d},ni:function(){return Z}});var r,c=n(4942),a=n(74165),i=n(15861),o=n(97744),s=n(45133),u=n.n(s),l=n(90326),d=(0,o.hg)("checkPhotosApp/checkPhoto/addCheckPhoto",function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("noti",t),e.next=4,u().post(l._n+l.pc+"/back/checkPhotos",t,{headers:{Authorization:l.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=(0,o.hg)("checkPhotosApp/checkPhoto/updateCheckPhoto",function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,console.log("checkPhotoData",t),e.next=4,u().put(l._n+l.pc+"/back/checkPhotos/".concat(t.id),t,{headers:{Authorization:l.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,o.hg)("checkPhotosApp/checkPhoto/removeCheckPhoto",function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,e.next=3,u().delete(l._n+l.pc+"/back/checkPhotos/".concat(t),{headers:{Authorization:l.o3}});case 3:return e.abrupt("return",id);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),m=(0,o.oM)({name:"checkPhotosApp/checkPhoto",initialState:{checkPhoto:{img:"",channel:"",gec:"",title:""}},reducers:{resetCheckPhoto:function(){return null},newCheckPhoto:{reducer:function(e,t){return t.payload},prepare:function(e){return{payload:{img:"",channel:"",gec:"",title:""}}}},setCheckPhoto:{reducer:function(e,t){return t.payload}}},extraReducers:(r={},(0,c.Z)(r,d.fulfilled,(function(e,t){return t.payload})),(0,c.Z)(r,h.fulfilled,(function(e,t){return t.payload})),(0,c.Z)(r,f.fulfilled,(function(e,t){return t.payload})),r)}),p=m.actions,x=p.resetCheckPhoto,v=p.newCheckPhoto,Z=p.setCheckPhoto,g=function(e){return e.checkPhotosApp.checkPhoto};t.ZP=m.reducer},92946:function(e,t,n){"use strict";n.d(t,{AD:function(){return p},ng:function(){return h},rr:function(){return v}});var r,c=n(4942),a=n(74165),i=n(15861),o=n(97744),s=n(45133),u=n.n(s),l=n(90326),d=(0,o.hg)("checkPhotosApp/getCheckPhotos",(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(l._n+l.pc+"/back/checkPhotos",{headers:{Authorization:l.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return(n=e.sent).reverse(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))),h=(0,o.hg)("checkPhotosApp/getVariables",(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(l._n+l.pc+"/back/variables",{headers:{Authorization:l.o3}});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),f=(0,o.HF)({}),m=f.getSelectors((function(e){return e.checkPhotosApp.checkPhotos})),p=m.selectAll,x=(m.selectById,(0,o.oM)({name:"checkPhotosApp",initialState:f.getInitialState({searchText:""}),reducers:{setCheckPhotosSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,c.Z)(r,d.fulfilled,f.setAll),(0,c.Z)(r,h.fulfilled,(function(e,t){e.variables=t.payload})),r)})),v=(x.actions.setCheckPhotosSearchText,function(e){return e.checkPhotosApp.checkPhotos.searchText});t.ZP=x.reducer},81377:function(e,t,n){"use strict";var r=n(48028),c=n(92946),a=n(67132),i=(0,r.UY)({checkPhotos:c.ZP,checkPhoto:a.ZP});t.Z=i},78449:function(e,t,n){"use strict";n.d(t,{DB:function(){return s},ni:function(){return u},sS:function(){return l},wf:function(){return o}});var r=n(74165),c=n(15861),a=n(31588),i=n(26759),o=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;return[e.getDate(),n,t].join("_")},s=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.entries(t).map(function(){var e=(0,c.Z)((0,r.Z)().mark((function e(n){var c,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("img_brief"!==n[0]&&"img_description"!==n[0]||!n[1].name){e.next=8;break}return c=o(),s=(0,a.iH)(i.tO,"coupons/".concat(n[1].name+"_"+c)),e.next=5,(0,a.KV)(s,n[1]);case 5:return e.next=7,(0,a.Jt)(s);case 7:t[n[0]]=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t,n){var c,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.name){e.next=8;break}return c=o(),s=(0,a.iH)(i.tO,"sliders/".concat(n.name+"_"+c)),e.next=5,(0,a.KV)(s,n);case 5:return e.next=7,(0,a.Jt)(s);case 7:t.image=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(e,t){if(0==e)return"0 Bytes";var n=t||2,r=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}},62586:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var c=r(n(66830)),a=n(62559),i=(0,c.default)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=i},66830:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(51298)},51298:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return c.Z},createChainedFunction:function(){return a.Z},createSvgIcon:function(){return i.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return h},setRef:function(){return f},unstable_ClassNameGenerator:function(){return P},unstable_useEnhancedEffect:function(){return m.Z},unstable_useId:function(){return p.Z},unsupportedProp:function(){return x},useControlled:function(){return v.Z},useEventCallback:function(){return Z.Z},useForkRef:function(){return g.Z},useIsFocusVisible:function(){return k.Z}});var r=n(95598),c=n(91442),a=n(32406),i=n(72717),o=n(4389);var s=function(e,t){return function(){return null}},u=n(51688),l=n(64132),d=n(96380);n(87462);var h=function(e,t){return function(){return null}},f=n(65638).Z,m=n(40839),p=n(4733);var x=function(e,t,n,r,c){return null},v=n(40528),Z=n(61534),g=n(33025),k=n(21012),P={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.Z.configure(e)}}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=184.b3a3c415.chunk.js.map