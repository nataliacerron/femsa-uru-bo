"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[1749],{1749:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(50390),a=t(93938),i=t(54696),s=t(94001),o=t(63787),c=t(5019),l=t(4930),u=t(46981),d=t(35477),p=t(95209),f=t(4743),h=t(1314),x=t(82360),m=t(98884),g=t(62559);var Z=function(e){var n=(0,f.I0)(),t=(0,f.v9)(m.BB);return(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,g.jsx)(d.Z,{component:p.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Cat\xe1logo de Premios"}),(0,g.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,g.jsxs)(u.Z,{component:p.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,g.jsx)(x.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,g.jsx)(l.Z,{placeholder:"Busqueda de premios",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return n((0,m.FJ)(e))}})]}),(0,g.jsx)(p.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,g.jsx)(c.Z,{className:"",component:h.rU,to:"/prizes/new",variant:"contained",color:"secondary",startIcon:(0,g.jsx)(x.Z,{children:"heroicons-outline:plus"}),children:"Agregar"})})," "]})]})},v=t(74165),b=t(1413),y=t(15861),w=t(29439),j=t(34062),z=t(41930),k=t(4182),P=t(35044),N=t(73481),A=t(1769),S=t(29399),C=t(24115),B=t(52452),_=t(58531),I=t(94187),T=t(77555),E=t(64604),F=[{id:"image",align:"left",disablePadding:!1,label:"Imagen",sort:!0},{id:"title",align:"left",disablePadding:!1,label:"Titulo",sort:!0},{id:"category",align:"left",disablePadding:!1,label:"Categoria",sort:!0},{id:"points",align:"left",disablePadding:!1,label:"Puntos",sort:!0},{id:"enabled",align:"left",disablePadding:!1,label:"Habilitado",sort:!0},{id:"buttons",align:"left",disablePadding:!1,label:"Acciones",sort:!0}];var R=function(e){return(0,g.jsx)(T.Z,{children:(0,g.jsx)(S.Z,{className:"h-48 sm:h-64",children:F.map((function(n){return(0,g.jsx)(N.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,E.$n)(e.palette.background.default,.4):(0,E.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:n.align,padding:n.disablePadding?"none":"normal",sortDirection:e.order.id===n.id&&e.order.direction,children:n.sort&&(0,g.jsx)(I.Z,{title:"Sort",placement:"right"===n.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,g.jsx)(_.Z,{active:e.order.id===n.id,direction:e.order.direction,onClick:(t=n.id,function(n){e.onRequestSort(n,t)}),className:"font-semibold",children:n.label})})},n.id);var t}),this)})})};t(60606);var D=(0,C.Z)((function(e){var n=(0,f.I0)(),t=(0,f.v9)(m.ii),a=(0,f.v9)(m.BB),i=(0,r.useState)(!0),s=(0,w.Z)(i,2),o=s[0],l=s[1],u=(0,r.useState)(t),h=(0,w.Z)(u,2),Z=h[0],C=h[1],_=(0,r.useState)(0),T=(0,w.Z)(_,2),E=T[0],F=T[1],D=(0,r.useState)(10),H=(0,w.Z)(D,2),q=H[0],J=H[1],U=(0,r.useState)({direction:"asc",id:null}),W=(0,w.Z)(U,2),L=W[0],M=W[1],V=(0,r.useState)(),X=(0,w.Z)(V,2),$=X[0],Q=X[1];function Y(){return(Y=(0,y.Z)((0,v.Z)().mark((function n(t){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.navigate("update",{state:(0,b.Z)({},t)});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function G(){return(G=(0,y.Z)((0,v.Z)().mark((function n(t){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.navigate("view",{state:(0,b.Z)({},t)});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,r.useEffect)((function(){n((0,m.lz)()).then((function(e){})),n((0,m.Xp)()).then((function(e){console.log("res",e.payload),Q(e.payload),l(!1)}))}),[n]),(0,r.useEffect)((function(){0!==a.length?(C(z.Z.filter(t,(function(e){return null!==e.description?e.description.toLowerCase().includes(a.toLowerCase()):null}))),F(0)):C(t)}),[t,a]),o?(0,g.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,g.jsx)(B.Z,{})}):0===Z.length?(0,g.jsx)(p.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,g.jsx)(d.Z,{color:"text.secondary",variant:"h5",children:"No se encontraron Competencias"})}):(0,g.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,g.jsx)(j.Z,{className:"grow overflow-x-auto",children:(0,g.jsxs)(k.Z,{stickyHeader:!0,className:"min-w-xl ","aria-labelledby":"tableTitle",children:[(0,g.jsx)(R,{order:L,onRequestSort:function(e,n){var t=n,r="desc";L.id===n&&"desc"===L.direction&&(r="asc"),M({direction:r,id:t})},rowCount:Z.length}),(0,g.jsx)(P.Z,{children:z.Z.orderBy(Z,[function(e){return e[L.id]}],[L.direction]).slice(E*q,E*q+q).map((function(e){var n,t;return(0,g.jsxs)(S.Z,{className:"h-72 cursor-pointer",hover:!0,children:[(0,g.jsx)(N.Z,{component:"th",scope:"row",padding:"none",children:(0,g.jsx)("img",{width:100,className:"rounded ml-10",src:null===(n=$.find((function(n){return n.sku===e.sku})))||void 0===n?void 0:n.image,alt:e.id,style:{objectFit:"contain",maxHeight:"60px"}})}),(0,g.jsx)(N.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:null===(t=$.find((function(n){return n.sku===e.sku})))||void 0===t?void 0:t.description}),(0,g.jsx)(N.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.category}),(0,g.jsx)(N.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:e.points}),(0,g.jsx)(N.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:"available"===e.status?(0,g.jsx)(x.Z,{className:"text-green",size:20,children:"heroicons-outline:check-circle"}):(0,g.jsx)(x.Z,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"})}),(0,g.jsxs)(N.Z,{className:"p-4 md:p-16 ",component:"th",scope:"row",children:[(0,g.jsx)(I.Z,{title:"Ver",placement:"top",children:(0,g.jsx)(c.Z,{onClick:function(n){return function(e){return G.apply(this,arguments)}(e)},children:(0,g.jsx)(x.Z,{size:20,color:"action",children:"heroicons-outline:eye"})})}),(0,g.jsx)(I.Z,{title:"Editar",placement:"top",children:(0,g.jsx)(c.Z,{onClick:function(n){return function(e){return Y.apply(this,arguments)}(e)},children:(0,g.jsx)(x.Z,{size:20,color:"action",children:"heroicons-outline:pencil"})})})]})]},e.id)}))})]})}),(0,g.jsx)(A.Z,{className:"shrink-0 border-t-1",component:"div",count:Z.length,rowsPerPage:q,page:E,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,n){F(n)},onRowsPerPageChange:function(e){J(e.target.value)}})]})}));var H=(0,i.Z)("prizesApp",o.Z)((function(){var e=(0,s.Z)((function(e){return e.breakpoints.down("lg")}));return(0,g.jsx)(a.Z,{header:(0,g.jsx)(Z,{}),content:(0,g.jsx)(D,{}),scroll:e?"normal":"content"})}))},63787:function(e,n,t){var r=t(48028),a=t(98884),i=t(30823),s=(0,r.UY)({prizes:a.ZP,prize:i.ZP});n.Z=s},30823:function(e,n,t){t.d(n,{Fb:function(){return h},JW:function(){return v},Tr:function(){return f},WQ:function(){return p},h6:function(){return b},n8:function(){return g},pj:function(){return Z}});var r,a=t(4942),i=t(74165),s=t(1413),o=t(15861),c=t(97744),l=t(45133),u=t.n(l),d=t(90326),p=(0,c.hg)("prizesApp/prize/addPrize",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("prizeData a guardar",n),e.next=4,u().post(d._n+d.pc+"/back/catalogs",(0,s.Z)({},n),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,console.log("dataaaaaa",a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),f=(0,c.hg)("prizesApp/prize/updatePrize",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("prizeData",n),e.next=4,u().put(d._n+d.pc+"/back/catalogs",(0,s.Z)({},n),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),h=(0,c.hg)("prizesApp/prize/removePrize",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("deleteeeeeee",n),e.next=4,u().delete(d._n+d.pc+"/back/catalogs/".concat(n),{headers:{Authorization:d.o3}});case 4:return e.abrupt("return",id);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),x=(0,c.oM)({name:"prizesApp/prize",initialState:{prize:{sku:null,points:null}},reducers:{resetPrize:function(){return null},newPrize:{reducer:function(e,n){return n.payload},prepare:function(e){return{payload:{sku:null,points:null}}}},setPrize:{reducer:function(e,n){return n.payload}}},extraReducers:(r={},(0,a.Z)(r,p.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,f.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,h.fulfilled,(function(e,n){return n.payload})),r)}),m=x.actions,g=m.resetPrize,Z=m.newPrize,v=m.setPrize,b=function(e){return e.prizesApp.prize};n.ZP=x.reducer},98884:function(e,n,t){t.d(n,{BB:function(){return b},FJ:function(){return v},Xp:function(){return h},ii:function(){return g},lz:function(){return d},ng:function(){return p},vp:function(){return f}});var r,a=t(4942),i=t(74165),s=t(15861),o=t(97744),c=t(45133),l=t.n(c),u=t(90326),d=(0,o.hg)("prizesApp/getPrizes",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/catalogs",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return(t=e.sent).reverse(),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),p=(0,o.hg)("prizesApp/getVariables",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/variables",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),f=(0,o.hg)("misionsApp/getBrands",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/brands",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),h=(0,o.hg)("misionsApp/getProducts",(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/products",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),x=(0,o.HF)({}),m=x.getSelectors((function(e){return e.prizesApp.prizes})),g=m.selectAll,Z=(m.selectById,(0,o.oM)({name:"prizesApp",initialState:x.getInitialState({searchText:"",variables:[]}),reducers:{setPrizesSearchText:{reducer:function(e,n){e.searchText=n.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,a.Z)(r,d.fulfilled,x.setAll),(0,a.Z)(r,p.fulfilled,(function(e,n){e.variables=n.payload})),r)})),v=Z.actions.setPrizesSearchText,b=function(e){return e.prizesApp.prizes.searchText};n.ZP=Z.reducer}}]);
//# sourceMappingURL=1749.f369ebdf.chunk.js.map