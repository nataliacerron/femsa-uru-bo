"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[8427],{78427:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(93938),a=t(54696),s=t(94001),i=t(19042),c=t(5019),o=t(4930),l=t(46981),u=t(35477),d=t(95209),p=t(4743),f=t(1314),h=t(82360),x=t(57319),m=t(62559);var w=function(e){var n=(0,p.I0)(),t=(0,p.v9)(x.zw);return(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,m.jsx)(u.Z,{component:d.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Novedades"}),(0,m.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,m.jsxs)(l.Z,{component:d.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,m.jsx)(h.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,m.jsx)(o.Z,{placeholder:"Busqueda de Novedadaes",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return n((0,x.bj)(e))}})]}),(0,m.jsx)(d.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,m.jsx)(c.Z,{className:"",component:f.rU,to:"/news/new",variant:"contained",color:"secondary",startIcon:(0,m.jsx)(h.Z,{children:"heroicons-outline:plus"}),children:"Agregar"})})," "]})]})},Z=t(74165),g=t(1413),b=t(15861),v=t(29439),j=t(34062),y=t(41930),N=t(4182),k=t(35044),P=t(73481),A=t(1769),S=t(29399),C=t(50390),_=t(24115),z=t(52452),E=t(58531),I=t(94187),D=t(77555),B=t(64604),M=[{id:"img_brief",align:"left",disablePadding:!1,label:"Miniatura",sort:!0},{id:"name",align:"left",disablePadding:!1,label:"Nombre",sort:!0},{id:"channel",align:"left",disablePadding:!1,label:"Canal",sort:!0},{id:"gec",align:"left",disablePadding:!1,label:"GEC",sort:!0},{id:"due_date",align:"left",disablePadding:!1,label:"Vencimiento",sort:!0},{id:"enabled",align:"left",disablePadding:!1,label:"Habilitado",sort:!0},{id:"accions",align:"left",disablePadding:!1,label:"Acciones",sort:!0}];var T=function(e){e.selectedNewsIds.length;var n=(0,C.useState)(null),t=(0,v.Z)(n,2);return t[0],t[1],(0,p.I0)(),(0,m.jsx)(D.Z,{children:(0,m.jsx)(S.Z,{className:"h-48 sm:h-64",children:M.map((function(n){return(0,m.jsx)(P.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,B.$n)(e.palette.background.default,.4):(0,B.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:n.align,padding:n.disablePadding?"none":"normal",sortDirection:e.order.id===n.id&&e.order.direction,children:n.sort&&(0,m.jsx)(I.Z,{title:"Sort",placement:"right"===n.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,m.jsx)(E.Z,{active:e.order.id===n.id,direction:e.order.direction,onClick:(t=n.id,function(n){e.onRequestSort(n,t)}),className:"font-semibold",children:n.label})})},n.id);var t}),this)})})},R=t(60606),Y=t.n(R);var q=(0,_.Z)((function(e){var n=(0,p.I0)(),t=(0,p.v9)(x.Er),r=(0,p.v9)(x.zw),a=(0,C.useState)(!0),s=(0,v.Z)(a,2),i=s[0],o=s[1],l=(0,C.useState)([]),f=(0,v.Z)(l,2),w=f[0],_=f[1],E=(0,C.useState)(t),D=(0,v.Z)(E,2),B=D[0],M=D[1],R=(0,C.useState)(0),q=(0,v.Z)(R,2),H=q[0],U=q[1],V=(0,C.useState)(10),L=(0,v.Z)(V,2),W=L[0],$=L[1],F=(0,C.useState)({direction:"asc",id:null}),G=(0,v.Z)(F,2),Q=G[0],J=G[1];if((0,C.useEffect)((function(){n((0,x.dD)()).then((function(e){o(!1)}))}),[n]),(0,C.useEffect)((function(){0!==r.length?(M(y.Z.filter(t,(function(e){return e.name.toLowerCase().includes(r.toLowerCase())}))),U(0)):M(t)}),[t,r]),i)return(0,m.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,m.jsx)(z.Z,{})});if(0===B.length)return(0,m.jsx)(d.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,m.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"No se encontraron Noticias"})});function K(){return(K=(0,b.Z)((0,Z.Z)().mark((function n(t){return(0,Z.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.navigate("update",{state:(0,g.Z)({},t)});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function O(){return(O=(0,b.Z)((0,Z.Z)().mark((function n(t){return(0,Z.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.navigate("view",{state:(0,g.Z)({},t)});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,m.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,m.jsx)(j.Z,{className:"grow overflow-x-auto",children:(0,m.jsxs)(N.Z,{stickyHeader:!0,className:"min-w-xl ","aria-labelledby":"tableTitle",children:[(0,m.jsx)(T,{selectedNewsIds:w,order:Q,onSelectAllClick:function(e){e.target.checked?_(B.map((function(e){return e.id}))):_([])},onRequestSort:function(e,n){var t=n,r="desc";Q.id===n&&"desc"===Q.direction&&(r="asc"),J({direction:r,id:t})},rowCount:B.length,onMenuItemClick:function(){_([])}}),(0,m.jsx)(k.Z,{children:y.Z.orderBy(B,[function(e){return e[Q.id]}],[Q.direction]).slice(H*W,H*W+W).map((function(e){return(0,m.jsxs)(S.Z,{className:"h-72 cursor-pointer",hover:!0,children:[(0,m.jsx)(P.Z,{component:"th",scope:"row",padding:"none",children:(0,m.jsx)("div",{className:"flex relative ml-10 p-5",children:(0,m.jsx)("img",{width:150,className:"rounded",src:e.img_brief,alt:e.id})})}),(0,m.jsx)(P.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.name}),(0,m.jsx)(P.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.channel}),(0,m.jsx)(P.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.gec}),(0,m.jsx)(P.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:Y()(e.due_date).format("DD-MM-YYYY")}),(0,m.jsx)(P.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.enabled?(0,m.jsx)(h.Z,{className:"text-green",size:20,children:"heroicons-outline:check-circle"}):(0,m.jsx)(h.Z,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"})}),(0,m.jsxs)(P.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:[(0,m.jsx)(I.Z,{title:"Ver",placement:"top",children:(0,m.jsx)(c.Z,{onClick:function(n){return function(e){return O.apply(this,arguments)}(e)},children:(0,m.jsx)(h.Z,{size:20,color:"action",children:"heroicons-outline:eye"})})}),(0,m.jsx)(I.Z,{title:"Editar",placement:"top",children:(0,m.jsx)(c.Z,{onClick:function(n){return function(e){return K.apply(this,arguments)}(e)},children:(0,m.jsx)(h.Z,{size:20,color:"action",children:"heroicons-outline:pencil"})})})]})]},e.id)}))})]})}),(0,m.jsx)(A.Z,{className:"shrink-0 border-t-1",component:"div",count:B.length,rowsPerPage:W,page:H,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,n){U(n)},onRowsPerPageChange:function(e){$(e.target.value)}})]})}));var H=(0,a.Z)("newsApp",i.Z)((function(){var e=(0,s.Z)((function(e){return e.breakpoints.down("lg")}));return(0,m.jsx)(r.Z,{header:(0,m.jsx)(w,{}),content:(0,m.jsx)(q,{}),scroll:e?"normal":"content"})}))},19042:function(e,n,t){var r=t(48028),a=t(57319),s=t(46699),i=(0,r.UY)({news:a.ZP,newsi:s.ZP});n.Z=i},46699:function(e,n,t){t.d(n,{Er:function(){return b},jB:function(){return f},m7:function(){return h},m8:function(){return w},uW:function(){return Z},xs:function(){return g},yQ:function(){return p}});var r,a=t(4942),s=t(1413),i=t(74165),c=t(15861),o=t(97744),l=t(45133),u=t.n(l),d=t(90326),p=(0,o.hg)("newsApp/news/addNews",function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n,t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("news",n),e.next=4,u().post(d._n+d.pc+"/back/news",n,{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),f=(0,o.hg)("newsApp/news/updateNews",function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n,t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("newsdata",n),e.next=4,u().put(d._n+d.pc+"/back/news/".concat(n.id),(0,s.Z)({},n),{headers:{Authorization:d.o3}});case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,console.log("dataerror",a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),h=(0,o.hg)("newsApp/news/removeNews",function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,console.log("val",n),e.next=4,u().delete(d._n+d.pc+"/back/news/".concat(n),{headers:{Authorization:d.o3}});case 4:return e.abrupt("return",id);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),x=(0,o.oM)({name:"newsApp/news",initialState:{news:{channel:"",gec:""}},reducers:{resetNews:function(){return null},newNews:{reducer:function(e,n){return n.payload},prepare:function(e){return{payload:{channel:"",gec:""}}}},setNews:{reducer:function(e,n){return n.payload}}},extraReducers:(r={},(0,a.Z)(r,p.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,f.fulfilled,(function(e,n){return n.payload})),(0,a.Z)(r,h.fulfilled,(function(e,n){return n.payload})),r)}),m=x.actions,w=m.resetNews,Z=m.newNews,g=m.setNews,b=function(e){return e.newsApp.newsi};n.ZP=x.reducer},57319:function(e,n,t){t.d(n,{Er:function(){return x},bj:function(){return w},dD:function(){return d},ng:function(){return p},zw:function(){return Z}});var r,a=t(4942),s=t(74165),i=t(15861),c=t(97744),o=t(45133),l=t.n(o),u=t(90326),d=(0,c.hg)("newsApp/getNews",(0,i.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/news",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return(t=e.sent).sort((function(e,n){return new Date(n.updated_at)-new Date(e.updated_at)})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),p=(0,c.hg)("slidersApp/getVariables",(0,i.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(u._n+u.pc+"/back/variables",{headers:{Authorization:u.o3}});case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),f=(0,c.HF)({}),h=f.getSelectors((function(e){return e.newsApp.news})),x=h.selectAll,m=(h.selectById,(0,c.oM)({name:"newsApp",initialState:f.getInitialState({searchText:""}),reducers:{setNewsSearchText:{reducer:function(e,n){e.searchText=n.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(r={},(0,a.Z)(r,d.fulfilled,f.setAll),(0,a.Z)(r,p.fulfilled,(function(e,n){e.variables=n.payload})),r)})),w=m.actions.setNewsSearchText,Z=function(e){return e.newsApp.news.searchText};n.ZP=m.reducer}}]);
//# sourceMappingURL=8427.67307ac1.chunk.js.map