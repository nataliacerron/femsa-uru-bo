{"version":3,"file":"static/js/7455.fb0cc278.chunk.js","mappings":"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","sources":["app/main/promo/store/promoSlice.js","app/main/promo/store/index.js","app/main/promo/PromoHeader.js","app/main/promo/PromoTable.js","app/main/promo/PromoSummary.js","app/main/promo/Promo.js"],"sourcesContent":["import {\n  createAsyncThunk,\n  createEntityAdapter,\n  createSlice,\n} from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { API_VERSION, BASE_URL, TOKEN } from \"app/configs/settingsConfig\";\n\nexport const getPromo = createAsyncThunk(\"promoApp/getPromo\", async () => {\n  const response = await axios.get(\n    BASE_URL + API_VERSION + \"/clients/promos/ctacte\",\n    {\n      headers: { Authorization: TOKEN },\n    }\n  );\n  const data = await response.data;\n  return data;\n});\n\nconst promoAdapter = createEntityAdapter({});\n\nexport const { selectAll: selectPromo, selectById: selectPromoById } =\n  promoAdapter.getSelectors((state) => state.promoApp.promo);\n\nexport const getSummary = createAsyncThunk(\n  \"promoApp/getSummary\",\n  async (nn, { getState }) => {\n    const response = await axios.get(\n      BASE_URL + API_VERSION + \"/clients/promos/summary\",\n      {\n        headers: { Authorization: TOKEN },\n      }\n    );\n    const { promoApp } = getState();\n    const summary = await response.data;\n    const newPromo = {\n      ...promoApp.promo,\n      summary,\n    };\n    return newPromo;\n  }\n);\n\nconst promoSlice = createSlice({\n  name: \"promoApp\",\n  initialState: promoAdapter.getInitialState({}),\n  reducers: {},\n  extraReducers: {\n    [getPromo.fulfilled]: promoAdapter.setAll,\n    [getSummary.fulfilled]: (state, action) => action.payload,\n  },\n});\nexport const selectSummary = ({ promoApp }) => promoApp.promo.summary;\n\nexport default promoSlice.reducer;\n","import { combineReducers } from \"@reduxjs/toolkit\";\n\nimport promo from \"./promoSlice\";\n\nconst reducer = combineReducers({\n  promo,\n});\n\nexport default reducer;\n","import Typography from \"@mui/material/Typography\";\nimport { motion } from \"framer-motion\";\n\nfunction PromoHeader(props) {\n  return (\n    <div className=\"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32\">\n      <Typography\n        component={motion.span}\n        initial={{ x: -20 }}\n        animate={{ x: 0, transition: { delay: 0.2 } }}\n        delay={300}\n        className=\"text-24 md:text-32 font-extrabold tracking-tight\"\n      >\n        Retornables\n      </Typography>\n    </div>\n  );\n}\n\nexport default PromoHeader;\n","import FuseScrollbars from \"@fuse/core/FuseScrollbars\";\nimport _ from \"@lodash\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TablePagination from \"@mui/material/TablePagination\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Typography from \"@mui/material/Typography\";\nimport { motion } from \"framer-motion\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport withRouter from \"@fuse/core/withRouter\";\nimport FuseLoading from \"@fuse/core/FuseLoading\";\nimport { getPromo, selectPromo } from \"./store/promoSlice\";\n\nfunction PromoTable(props) {\n  const dispatch = useDispatch();\n  const promo = useSelector(selectPromo);\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState(promo);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [order, setOrder] = useState({\n    direction: \"asc\",\n    id: null,\n  });\n  useEffect(() => {\n    dispatch(getPromo()).then((resp) => {\n      setLoading(false);\n    });\n  }, [dispatch]);\n\n  useEffect(() => {\n    setData(promo);\n  }, [promo]);\n\n  function handleRequestSort(event, property) {\n    const id = property;\n    let direction = \"desc\";\n\n    if (order.id === property && order.direction === \"desc\") {\n      direction = \"asc\";\n    }\n\n    setOrder({\n      direction,\n      id,\n    });\n  }\n\n  function handleChangePage(event, value) {\n    setPage(value);\n  }\n\n  function handleChangeRowsPerPage(event) {\n    setRowsPerPage(event.target.value);\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <FuseLoading />\n      </div>\n    );\n  }\n\n  if (data.length === 0) {\n    return (\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1, transition: { delay: 0.1 } }}\n        className=\"flex flex-1 items-center justify-center h-full\"\n      >\n        <Typography color=\"text.secondary\" variant=\"h5\">\n          No se encontraron Promociones\n        </Typography>\n      </motion.div>\n    );\n  }\n\n  return (\n    <div className=\"w-full flex flex-col min-h-full\">\n      <FuseScrollbars className=\"grow overflow-x-auto\">\n        <Table stickyHeader className=\"min-w-xl \" aria-labelledby=\"tableTitle\">\n          <TableBody>\n            {_.orderBy(data, [(o) => o[order.id]], [order.direction])\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((n) => {\n                return (\n                  <TableRow className=\"h-72 cursor-pointer\" hover key={n.id}>\n                    <TableCell component=\"th\" scope=\"row\" className=\"ml-10\">\n                      {n}\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </FuseScrollbars>\n\n      <TablePagination\n        className=\"shrink-0 border-t-1\"\n        component=\"div\"\n        count={data.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        backIconButtonProps={{\n          \"aria-label\": \"Previous Page\",\n        }}\n        nextIconButtonProps={{\n          \"aria-label\": \"Next Page\",\n        }}\n        onPageChange={handleChangePage}\n        onRowsPerPageChange={handleChangeRowsPerPage}\n      />\n    </div>\n  );\n}\n\nexport default withRouter(PromoTable);\n","import _ from \"@lodash\";\nimport Typography from \"@mui/material/Typography\";\nimport { motion } from \"framer-motion\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport withRouter from \"@fuse/core/withRouter\";\nimport FuseLoading from \"@fuse/core/FuseLoading\";\nimport { getSummary, selectPromo, selectSummary } from \"./store/promoSlice\";\nimport Box from \"@mui/material/Box\";\n\nfunction PromoSummary(props) {\n  const dispatch = useDispatch();\n  const summary = useSelector(selectSummary);\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState(summary);\n\n  useEffect(() => {\n    dispatch(getSummary()).then((resp) => {\n      setLoading(false);\n    });\n  }, [dispatch]);\n\n  useEffect(() => {\n    setData(summary);\n  }, [summary]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <FuseLoading />\n      </div>\n    );\n  }\n\n  if (data.length === 0) {\n    return (\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1, transition: { delay: 0.1 } }}\n        className=\"flex flex-1 items-center justify-center h-full\"\n      >\n        <Typography color=\"text.secondary\" variant=\"h5\">\n          No se encontraron Promociones\n        </Typography>\n      </motion.div>\n    );\n  }\n\n  return (\n    <div className=\"w-full flex flex-col min-h-full\">\n      <Box margin={5}>\n        <div>\n          <Typography\n            display=\"inline\"\n            className=\"text-18 md:text-7l  font-bold tracking-tight\"\n          >\n            Canjes:\n          </Typography>\n          <Typography\n            display=\"inline\"\n            className=\"text-18 md:text-7l ml-10 tracking-tight\"\n          >\n            {data.canjes}\n          </Typography>\n        </div>\n        <div>\n          <Typography\n            display=\"inline\"\n            className=\"text-18 md:text-7l  font-bold tracking-tight\"\n          >\n            Devoluciones:\n          </Typography>\n          <Typography\n            display=\"inline\"\n            className=\"text-18 md:text-7l ml-10 tracking-tight\"\n          >\n            {data.devoluciones}\n          </Typography>\n        </div>\n        <div>\n          <Typography\n            display=\"inline\"\n            className=\"text-18 md:text-7l  font-bold tracking-tight\"\n          >\n            Actualización:\n          </Typography>\n          <Typography\n            display=\"inline\"\n            className=\"text-18 md:text-7l ml-10 tracking-tight\"\n          >\n            {data.last_update}\n          </Typography>\n        </div>\n      </Box>\n    </div>\n  );\n}\n\nexport default withRouter(PromoSummary);\n","import { useEffect, useState } from \"react\";\nimport FusePageCarded from \"@fuse/core/FusePageCarded\";\nimport withReducer from \"app/store/withReducer\";\nimport useThemeMediaQuery from \"@fuse/hooks/useThemeMediaQuery\";\nimport reducer from \"./store\";\nimport PromoHeader from \"./PromoHeader\";\nimport PromoTable from \"./PromoTable\";\nimport PromoSummary from \"./PromoSummary\";\nimport Tab from \"@mui/material/Tab\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Box from \"@mui/material/Box\";\n\nfunction Promo() {\n  const isMobile = useThemeMediaQuery((theme) => theme.breakpoints.down(\"lg\"));\n  const [tabValue, setTabValue] = useState(0);\n  function handleChangeTab(event, value) {\n    setTabValue(value);\n  }\n  return (\n    <FusePageCarded\n      header={<PromoHeader />}\n      content={\n        <div className=\"w-full p-12 pt-16 sm:pt-24 lg:ltr:pr-0 lg:rtl:pl-0\">\n          <Tabs\n            value={tabValue}\n            onChange={handleChangeTab}\n            indicatorColor=\"secondary\"\n            textColor=\"inherit\"\n            variant=\"scrollable\"\n            scrollButtons={false}\n            className=\"w-full px-24 -mx-4 min-h-40 mb-10\"\n            classes={{\n              indicator: \"flex justify-center bg-transparent w-full h-full\",\n            }}\n            TabIndicatorProps={{\n              children: (\n                <Box\n                  sx={{ bgcolor: \"text.disabled\" }}\n                  className=\"w-full h-full rounded-full opacity-20\"\n                />\n              ),\n            }}\n          >\n            <Tab\n              className=\"text-14 font-semibold min-h-40 min-w-64 mx-4 px-12\"\n              disableRipple\n              label=\"Cuenta Corriente\"\n            />\n            <Tab\n              className=\"text-14 font-semibold min-h-40 min-w-64 mx-4 px-12\"\n              disableRipple\n              label=\"Resumen\"\n            />\n          </Tabs>\n          {tabValue === 0 && <PromoTable />}\n          {tabValue === 1 && <PromoSummary />}\n        </div>\n      }\n      scroll={isMobile ? \"normal\" : \"content\"}\n    />\n  );\n}\n\nexport default withReducer(\"promoApp\", reducer)(Promo);\n"],"names":["getPromo","createAsyncThunk","axios","BASE_URL","API_VERSION","headers","Authorization","TOKEN","response","data","promoAdapter","createEntityAdapter","getSelectors","state","promoApp","promo","selectPromo","selectAll","getSummary","selectById","nn","getState","summary","newPromo","promoSlice","createSlice","name","initialState","getInitialState","reducers","extraReducers","fulfilled","setAll","action","payload","selectSummary","combineReducers","props","className","Typography","component","motion","initial","x","animate","transition","delay","withRouter","dispatch","useDispatch","useSelector","useState","loading","setLoading","setData","page","setPage","rowsPerPage","setRowsPerPage","direction","id","order","useEffect","then","resp","FuseLoading","length","opacity","color","variant","FuseScrollbars","Table","stickyHeader","TableBody","_","o","slice","map","n","TableRow","hover","TableCell","scope","TablePagination","count","backIconButtonProps","nextIconButtonProps","onPageChange","event","value","onRowsPerPageChange","target","Box","margin","display","canjes","devoluciones","last_update","withReducer","reducer","isMobile","useThemeMediaQuery","theme","breakpoints","down","tabValue","setTabValue","FusePageCarded","header","content","Tabs","onChange","indicatorColor","textColor","scrollButtons","classes","indicator","TabIndicatorProps","children","sx","bgcolor","Tab","disableRipple","label","scroll"],"sourceRoot":""}